"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e,t,s,n,r){var i=document.querySelector(e),a=i.querySelector(t),o=i.querySelector(s),c=i.querySelectorAll(n),d=i.querySelector(r),l=d.children[0],u=d.children[1],v=d.children[2],m=c[0].offsetWidth,_=0,f=0,L=0,p=0,g=0,h=0,y=0,j=!1,x=!1,E=!0,b=!0,q=0,S=0,A=(c.length-1)*m,k=.35*c[0].offsetWidth,M=/([-0-9.]+(?=px))/,w=function(){return-1!==event.type.search("touch")?event.touches[0]:event},X=function(){var e;b&&(o.style.transition="transform .5s"),o.style.transform="translate3d(-".concat(_*m,"px, 0px, 0px)"),l.classList.toggle("disabled",0===_),v.classList.toggle("disabled",_===c.length-1),e=_,i.querySelectorAll(".js_dot").forEach((function(t){t.classList.remove("active"),t.dataset.slideIndex===e&&t.classList.add("active")}))},Y=function(){var e=w();E&&(b=!0,q=(_+1)*-m,S=(_-1)*-m,f=L=e.clientX,g=e.clientY,o.style.transition="",document.addEventListener("touchmove",W),document.addEventListener("mousemove",W),document.addEventListener("touchend",C),document.addEventListener("mouseup",C),a.classList.remove("grab"),a.classList.add("grabbing"))},W=function(){var e=w(),t=+o.style.transform.match(M)[0];if(p=L-e.clientX,L=e.clientX,h=g-e.clientY,g=e.clientY,!j&&!x){var s=Math.abs(h);s>7||0===p?(x=!0,E=!1):s<7&&(j=!0)}if(j){if(0===_){if(f<L)return void D(t,0);E=!0}if(_===c.length-1){if(f>L)return void D(t,A);E=!0}if(f>L&&t<q||f<L&&t>S)return void H();o.style.transform="translate3d(".concat(t-p,"px, 0px, 0px)")}},C=function e(){y=f-L,x=!1,j=!1,document.removeEventListener("touchmove",W),document.removeEventListener("mousemove",W),document.removeEventListener("touchend",e),document.removeEventListener("mouseup",e),a.classList.add("grab"),a.classList.remove("grabbing"),E?(Math.abs(y)>k&&(f<L?_--:f>L&&_++),f!==L?(E=!1,X()):E=!0):E=!0},D=function(e,t){e>=t&&e>t&&(o.style.transform="translate3d(".concat(t,"px, 0px, 0px)")),E=!1},H=function(){b=!1,C(),E=!0};o.style.transform="translate3d(0px, 0px, 0px)",a.classList.add("grab"),o.addEventListener("transitionend",(function(){E=!0,u.innerHTML="".concat(_+1,"/").concat(c.length)})),i.addEventListener("touchstart",Y),i.addEventListener("mousedown",Y),d.addEventListener("click",(function(){var e=event.target;if(console.log(event.target.classList),e.classList.contains("next"))_++;else{if(!e.classList.contains("prev"))return;_--}X()})),i.querySelector(".js__slider-pagination")&&i.querySelector(".js__slider-pagination").addEventListener("click",(function(e){i.querySelectorAll(".js_dot").forEach((function(e){e.classList.remove("active")})),_=e.target.getAttribute("data-slide-index"),e.target.classList.add("active"),X()}))}if(document.querySelector(".js__slider")){e(".js__slider",".js__slider-list",".js__slider-track",".js__slide",".js__slider-arrows");for(var t=document.querySelectorAll(".js__slide"),s=document.querySelector(".js__slider-pagination"),n=0;n<t.length;n++){var r=document.createElement("button");r.classList.add("hero__slider-pagination-item"),r.classList.add("js_dot"),r.setAttribute("data-slide-index",n),s.append(r)}document.querySelectorAll(".js_dot")[0].classList.add("active")}document.querySelector(".js__partners-slider")&&e(".js__partners-slider",".js__partners-slider-list",".js__partners-slider-track",".js__partners-slide",".js__partners-slider-arrows")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGlkZXJSdW4iLCJqc3NsaWRlciIsImpzc2xpZGVyTGlzdCIsImpzc2xpZGVyVHJhY2siLCJqc3NsaWRlcyIsImpzYXJyb3dzIiwic2xpZGVyIiwicXVlcnlTZWxlY3RvciIsInNsaWRlckxpc3QiLCJzbGlkZXJUcmFjayIsInNsaWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJvd3MiLCJwcmV2IiwiY2hpbGRyZW4iLCJpbmRleFNsaWRlVGV4dCIsIm5leHQiLCJzbGlkZVdpZHRoIiwib2Zmc2V0V2lkdGgiLCJzbGlkZUluZGV4IiwicG9zSW5pdCIsInBvc1gxIiwicG9zWDIiLCJwb3NZMSIsInBvc1kyIiwicG9zRmluYWwiLCJpc1N3aXBlIiwiaXNTY3JvbGwiLCJhbGxvd1N3aXBlIiwidHJhbnNpdGlvbiIsIm5leHRUcmYiLCJwcmV2VHJmIiwibGFzdFRyZiIsImxlbmd0aCIsInBvc1RocmVzaG9sZCIsInRyZlJlZ0V4cCIsImdldEV2ZW50IiwiZXZlbnQiLCJ0eXBlIiwic2VhcmNoIiwidG91Y2hlcyIsInNsaWRlIiwiaW5kZXgiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNvbmNhdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZvckVhY2giLCJkb3QiLCJyZW1vdmUiLCJkYXRhc2V0IiwiYWRkIiwic3dpcGVTdGFydCIsImV2dCIsImNsaWVudFgiLCJjbGllbnRZIiwic3dpcGVBY3Rpb24iLCJzd2lwZUVuZCIsIm1hdGNoIiwicG9zWSIsIk1hdGgiLCJhYnMiLCJzZXRUcmFuc2Zvcm0iLCJyZWFjaEVkZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29tYXByZVRyYW5zZm9ybSIsImlubmVySFRNTCIsInRhcmdldCIsImNvbnNvbGUiLCJsb2ciLCJjb250YWlucyIsImUiLCJnZXRBdHRyaWJ1dGUiLCJwYWdpbmF0aW9uIiwiaSIsImNyZWF0ZUVsZW1lbnQi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LFdBRWxCc0IsRUFBT3RCLFVBQVV5QixTQUFqQixRQUNGcEQsUUFDSyxDQUFBLElBQUlpRCxFQUFPdEIsVUFBVXlCLFNBQWpCLFFBR1QsT0FGQXBELElBS0ZzQixPQUtFbkMsRUFBT0MsY0FBUCwyQkFFRkQsRUFBT0MsY0FBUCwwQkFBK0NSLGlCQUEvQyxTQUF5RSxTQUFVeUUsR0FDbkVsRSxFQUFPSyxpQkFBUCxXQUNScUMsU0FBUSxTQUFDQyxHQUNiQSxFQUFJSCxVQUFVSSxPQUFkLGFBRUYvQixFQUFhcUQsRUFBRUosT0FBT0ssYUFBVCxvQkFDYkQsRUFBRUosT0FBT3RCLFVBQVVNLElBQW5CLFVBQ0FYLE9BZU4sR0FBSTNDLFNBQVNTLGNBQVQsZUFBdUMsQ0FDekNQLEVBQVMsY0FBQSxtQkFBQSxvQkFBQSxhQUFBLHNCQVNULElBRkEsSUFBTVUsRUFBU1osU0FBU2EsaUJBQVQsY0FDVCtELEVBQWE1RSxTQUFTUyxjQUFULDBCQUNWb0UsRUFBSSxFQUFHQSxFQUFJakUsRUFBT3VCLE9BQVEwQyxJQUFLLENBRXRDLElBQU0xQixFQUFNbkQsU0FBUzhFLGNBQVQsVUFDWjNCLEVBQUlILFVBQVVNLElBQWQsZ0NBQ0FILEVBQUlILFVBQVVNLElBQWQsVUFDQUgsRUFBSTRCLGFBQUosbUJBQXFDRixHQUNyQ0QsRUFBV0ksT0FBTzdCLEdBRXBCbkQsU0FBU2EsaUJBQVQsV0FBcUMsR0FBR21DLFVBQVVNLElBQWxELFVBT0V0RCxTQUFTUyxjQUFULHlCQUVGUCxFQUFTLHVCQUFBLDRCQUFBLDZCQUFBLHNCQUFBIiwiZmlsZSI6InNsaWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYERPTUNvbnRlbnRMb2FkZWRgLCBmdW5jdGlvbiAoKSB7XHJcbiAgZnVuY3Rpb24gc2xpZGVyUnVuKGpzc2xpZGVyLCBqc3NsaWRlckxpc3QsIGpzc2xpZGVyVHJhY2ssIGpzc2xpZGVzLCBqc2Fycm93cykge1xyXG4gICAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqc3NsaWRlcilcclxuICAgIGNvbnN0IHNsaWRlckxpc3QgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc3NsaWRlckxpc3QpXHJcbiAgICBjb25zdCBzbGlkZXJUcmFjayA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKGpzc2xpZGVyVHJhY2spXHJcbiAgICBjb25zdCBzbGlkZXMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChqc3NsaWRlcylcclxuICAgIC8vIGNvbnN0IGRvdHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChqc2RvdClcclxuICAgIGNvbnN0IGFycm93cyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKGpzYXJyb3dzKVxyXG4gICAgY29uc3QgcHJldiA9IGFycm93cy5jaGlsZHJlblswXVxyXG4gICAgY29uc3QgaW5kZXhTbGlkZVRleHQgPSBhcnJvd3MuY2hpbGRyZW5bMV1cclxuICAgIGNvbnN0IG5leHQgPSBhcnJvd3MuY2hpbGRyZW5bMl1cclxuICAgIGNvbnN0IHNsaWRlV2lkdGggPSBzbGlkZXNbMF0ub2Zmc2V0V2lkdGhcclxuICAgIGxldCBzbGlkZUluZGV4ID0gMFxyXG4gICAgbGV0IHBvc0luaXQgPSAwXHJcbiAgICBsZXQgcG9zWDEgPSAwXHJcbiAgICBsZXQgcG9zWDIgPSAwXHJcbiAgICBsZXQgcG9zWTEgPSAwXHJcbiAgICBsZXQgcG9zWTIgPSAwXHJcbiAgICBsZXQgcG9zRmluYWwgPSAwXHJcbiAgICBsZXQgaXNTd2lwZSA9IGZhbHNlXHJcbiAgICBsZXQgaXNTY3JvbGwgPSBmYWxzZVxyXG4gICAgbGV0IGFsbG93U3dpcGUgPSB0cnVlXHJcbiAgICBsZXQgdHJhbnNpdGlvbiA9IHRydWVcclxuICAgIGxldCBuZXh0VHJmID0gMFxyXG4gICAgbGV0IHByZXZUcmYgPSAwXHJcbiAgICBjb25zdCBsYXN0VHJmID0gKHNsaWRlcy5sZW5ndGggLSAxKSAqIHNsaWRlV2lkdGhcclxuICAgIGNvbnN0IHBvc1RocmVzaG9sZCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aCAqIDAuMzVcclxuICAgIGNvbnN0IHRyZlJlZ0V4cCA9IC8oWy0wLTkuXSsoPz1weCkpL1xyXG4gICAgY29uc3QgZ2V0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBldmVudC50eXBlLnNlYXJjaChgdG91Y2hgKSAhPT0gLTEgPyBldmVudC50b3VjaGVzWzBdIDogZXZlbnRcclxuICAgIH1cclxuICAgIGNvbnN0IHNsaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xyXG4gICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zaXRpb24gPSBgdHJhbnNmb3JtIC41c2BcclxuICAgICAgfVxyXG4gICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoLSR7XHJcbiAgICAgICAgc2xpZGVJbmRleCAqIHNsaWRlV2lkdGhcclxuICAgICAgfXB4LCAwcHgsIDBweClgXHJcblxyXG4gICAgICBwcmV2LmNsYXNzTGlzdC50b2dnbGUoYGRpc2FibGVkYCwgc2xpZGVJbmRleCA9PT0gMClcclxuICAgICAgbmV4dC5jbGFzc0xpc3QudG9nZ2xlKGBkaXNhYmxlZGAsIHNsaWRlSW5kZXggPT09IChzbGlkZXMubGVuZ3RoIC0gMSkpXHJcbiAgICAgIHN3aXRjaERvdHMoc2xpZGVJbmRleClcclxuXHJcbiAgICB9XHJcbiAgICBjb25zdCBzd2lwZVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCBldnQgPSBnZXRFdmVudCgpXHJcblxyXG4gICAgICBpZiAoYWxsb3dTd2lwZSkge1xyXG4gICAgICAgIHRyYW5zaXRpb24gPSB0cnVlXHJcblxyXG4gICAgICAgIG5leHRUcmYgPSAoc2xpZGVJbmRleCArIDEpICogLXNsaWRlV2lkdGhcclxuICAgICAgICBwcmV2VHJmID0gKHNsaWRlSW5kZXggLSAxKSAqIC1zbGlkZVdpZHRoXHJcblxyXG4gICAgICAgIHBvc0luaXQgPSBwb3NYMSA9IGV2dC5jbGllbnRYXHJcbiAgICAgICAgcG9zWTEgPSBldnQuY2xpZW50WVxyXG5cclxuICAgICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2l0aW9uID0gYGBcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgdG91Y2htb3ZlYCwgc3dpcGVBY3Rpb24pXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgbW91c2Vtb3ZlYCwgc3dpcGVBY3Rpb24pXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgdG91Y2hlbmRgLCBzd2lwZUVuZClcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgc3dpcGVFbmQpXHJcblxyXG4gICAgICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShgZ3JhYmApXHJcbiAgICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKGBncmFiYmluZ2ApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHN3aXBlQWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCBldnQgPSBnZXRFdmVudCgpXHJcbiAgICAgIGNvbnN0IHN0eWxlID0gc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9ICtzdHlsZS5tYXRjaCh0cmZSZWdFeHApWzBdXHJcblxyXG4gICAgICBwb3NYMiA9IHBvc1gxIC0gZXZ0LmNsaWVudFhcclxuICAgICAgcG9zWDEgPSBldnQuY2xpZW50WFxyXG5cclxuICAgICAgcG9zWTIgPSBwb3NZMSAtIGV2dC5jbGllbnRZXHJcbiAgICAgIHBvc1kxID0gZXZ0LmNsaWVudFlcclxuXHJcbiAgICAgIC8vINC+0L/RgNC10LTQtdC70LXQvdC40LUg0LTQtdC50YHRgtCy0LjRjyDRgdCy0LDQudC/INC40LvQuCDRgdC60YDQvtC70LtcclxuICAgICAgaWYgKCFpc1N3aXBlICYmICFpc1Njcm9sbCkge1xyXG4gICAgICAgIGNvbnN0IHBvc1kgPSBNYXRoLmFicyhwb3NZMilcclxuICAgICAgICBpZiAocG9zWSA+IDcgfHwgcG9zWDIgPT09IDApIHtcclxuICAgICAgICAgIGlzU2Nyb2xsID0gdHJ1ZVxyXG4gICAgICAgICAgYWxsb3dTd2lwZSA9IGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIGlmIChwb3NZIDwgNykge1xyXG4gICAgICAgICAgaXNTd2lwZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc1N3aXBlKSB7XHJcbiAgICAgICAgLy8g0LfQsNC/0YDQtdGCINGD0YXQvtC00LAg0LLQu9C10LLQviDQvdCwINC/0LXRgNCy0L7QvCDRgdC70LDQudC00LVcclxuICAgICAgICBpZiAoc2xpZGVJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xyXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm0odHJhbnNmb3JtLCAwKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsbG93U3dpcGUgPSB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8g0LfQsNC/0YDQtdGCINGD0YXQvtC00LAg0LLQv9GA0LDQstC+INC90LAg0L/QvtGB0LvQtdC00L3QtdC8INGB0LvQsNC50LTQtVxyXG4gICAgICAgIGlmIChzbGlkZUluZGV4ID09PSAoc2xpZGVzLmxlbmd0aCAtIDEpKSB7XHJcbiAgICAgICAgICBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XHJcbiAgICAgICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIGxhc3RUcmYpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINC30LDQv9GA0LXRgiDQv9GA0L7RgtCw0YHQutC40LLQsNC90LjRjyDQtNCw0LvRjNGI0LUg0L7QtNC90L7Qs9C+INGB0LvQsNC50LTQsFxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChwb3NJbml0ID4gcG9zWDEgJiYgdHJhbnNmb3JtIDwgbmV4dFRyZikgfHxcclxuICAgICAgICAgICAgKHBvc0luaXQgPCBwb3NYMSAmJiB0cmFuc2Zvcm0gPiBwcmV2VHJmKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmVhY2hFZGdlKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g0LTQstC40LPQsNC10Lwg0YHQu9Cw0LnQtFxyXG4gICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke1xyXG4gICAgICAgICAgdHJhbnNmb3JtIC0gcG9zWDJcclxuICAgICAgICB9cHgsIDBweCwgMHB4KWBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc3dpcGVFbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHBvc0ZpbmFsID0gcG9zSW5pdCAtIHBvc1gxXHJcblxyXG4gICAgICBpc1Njcm9sbCA9IGZhbHNlXHJcbiAgICAgIGlzU3dpcGUgPSBmYWxzZVxyXG5cclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgdG91Y2htb3ZlYCwgc3dpcGVBY3Rpb24pXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYG1vdXNlbW92ZWAsIHN3aXBlQWN0aW9uKVxyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGB0b3VjaGVuZGAsIHN3aXBlRW5kKVxyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgc3dpcGVFbmQpXHJcblxyXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5hZGQoYGdyYWJgKVxyXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoYGdyYWJiaW5nYClcclxuXHJcbiAgICAgIGlmIChhbGxvd1N3aXBlKSB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHBvc0ZpbmFsKSA+IHBvc1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xyXG4gICAgICAgICAgICBzbGlkZUluZGV4LS1cclxuICAgICAgICAgIH0gZWxzZSBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XHJcbiAgICAgICAgICAgIHNsaWRlSW5kZXgrK1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBvc0luaXQgIT09IHBvc1gxKSB7XHJcbiAgICAgICAgICBhbGxvd1N3aXBlID0gZmFsc2VcclxuICAgICAgICAgIHNsaWRlKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgY29tYXByZVRyYW5zZm9ybSkge1xyXG4gICAgICBpZiAodHJhbnNmb3JtID49IGNvbWFwcmVUcmFuc2Zvcm0pIHtcclxuICAgICAgICBpZiAodHJhbnNmb3JtID4gY29tYXByZVRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7Y29tYXByZVRyYW5zZm9ybX1weCwgMHB4LCAwcHgpYFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhbGxvd1N3aXBlID0gZmFsc2VcclxuICAgIH1cclxuICAgIGNvbnN0IHJlYWNoRWRnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdHJhbnNpdGlvbiA9IGZhbHNlXHJcbiAgICAgIHN3aXBlRW5kKClcclxuICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweClgXHJcbiAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5hZGQoYGdyYWJgKVxyXG5cclxuICAgIHNsaWRlclRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoYHRyYW5zaXRpb25lbmRgLCAoKSA9PiB7XHJcbiAgICAgIGFsbG93U3dpcGUgPSB0cnVlXHJcbiAgICAgIGluZGV4U2xpZGVUZXh0LmlubmVySFRNTCA9IGAke3NsaWRlSW5kZXggKyAxfS8ke3NsaWRlcy5sZW5ndGh9YFxyXG5cclxuICAgIH0pXHJcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihgdG91Y2hzdGFydGAsIHN3aXBlU3RhcnQpXHJcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihgbW91c2Vkb3duYCwgc3dpcGVTdGFydClcclxuXHJcbiAgICBhcnJvd3MuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldFxyXG5cdFx0XHRjb25zb2xlLmxvZyhldmVudC50YXJnZXQuY2xhc3NMaXN0KTtcclxuXHRcdFx0XHJcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGBuZXh0YCkpIHtcclxuICAgICAgICBzbGlkZUluZGV4KytcclxuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGBwcmV2YCkpIHtcclxuICAgICAgICBzbGlkZUluZGV4LS1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgc2xpZGUoKVxyXG4gICAgICAvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoYC5qc19fc2xpZGVyLXBhZ2luYXRpb25gKSkge1xyXG5cclxuICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoYC5qc19fc2xpZGVyLXBhZ2luYXRpb25gKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgZG90dHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChgLmpzX2RvdGApXHJcbiAgICAgICAgZG90dHMuZm9yRWFjaCgoZG90KSA9PiB7XHJcbiAgICAgICAgICBkb3QuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNsaWRlSW5kZXggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoYGRhdGEtc2xpZGUtaW5kZXhgKVxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoYGFjdGl2ZWApXHJcbiAgICAgICAgc2xpZGUoKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN3aXRjaERvdHMoaW5kZXgpIHtcclxuICAgICAgY29uc3QgZG90dHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChgLmpzX2RvdGApXHJcbiAgICAgIGRvdHRzLmZvckVhY2goKGRvdCkgPT4ge1xyXG4gICAgICAgIGRvdC5jbGFzc0xpc3QucmVtb3ZlKGBhY3RpdmVgKVxyXG4gICAgICAgIGlmIChkb3QuZGF0YXNldC5zbGlkZUluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgICAgZG90LmNsYXNzTGlzdC5hZGQoYGFjdGl2ZWApXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy8gaW5kZXhTbGlkZVRleHQuaW5uZXJIVE1MID0gYCR7c2xpZGVJbmRleCArIDF9LyR7c2xpZGVzLmxlbmd0aH1gO1xyXG4gIH1cclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzX19zbGlkZXJgKSkge1xyXG4gICAgc2xpZGVyUnVuKFxyXG4gICAgICBgLmpzX19zbGlkZXJgLFxyXG4gICAgICBgLmpzX19zbGlkZXItbGlzdGAsXHJcbiAgICAgIGAuanNfX3NsaWRlci10cmFja2AsXHJcbiAgICAgIGAuanNfX3NsaWRlYCxcclxuICAgICAgYC5qc19fc2xpZGVyLWFycm93c2BcclxuICAgIClcclxuICAgIGNvbnN0IHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5qc19fc2xpZGVgKVxyXG4gICAgY29uc3QgcGFnaW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qc19fc2xpZGVyLXBhZ2luYXRpb25gKVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgIGNvbnN0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGJ1dHRvbmApXHJcbiAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKGBoZXJvX19zbGlkZXItcGFnaW5hdGlvbi1pdGVtYClcclxuICAgICAgZG90LmNsYXNzTGlzdC5hZGQoYGpzX2RvdGApXHJcbiAgICAgIGRvdC5zZXRBdHRyaWJ1dGUoYGRhdGEtc2xpZGUtaW5kZXhgLCBpKVxyXG4gICAgICBwYWdpbmF0aW9uLmFwcGVuZChkb3QpXHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuanNfZG90YClbMF0uY2xhc3NMaXN0LmFkZChgYWN0aXZlYClcclxuXHJcblxyXG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzX2RvdGApLmNsYXNzTGlzdFxyXG4gIH1cclxuXHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanNfX3BhcnRuZXJzLXNsaWRlcmApKSB7XHJcblxyXG4gICAgc2xpZGVyUnVuKFxyXG4gICAgICBgLmpzX19wYXJ0bmVycy1zbGlkZXJgLFxyXG4gICAgICBgLmpzX19wYXJ0bmVycy1zbGlkZXItbGlzdGAsXHJcbiAgICAgIGAuanNfX3BhcnRuZXJzLXNsaWRlci10cmFja2AsXHJcbiAgICAgIGAuanNfX3BhcnRuZXJzLXNsaWRlYCxcclxuICAgICAgYC5qc19fcGFydG5lcnMtc2xpZGVyLWFycm93c2BcclxuICAgIClcclxuICB9XHJcbn0pXHJcbiJdfQ==
