"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e,t,n,s,r,i,a,o){var c=document.querySelector(e),d=c.querySelector(t),l=c.querySelector(n),u=c.querySelectorAll(s),v=c.querySelector(r),m=v.children[0],f=v.children[1],_=v.children[2],L=u[0].offsetWidth,g=document.querySelector(i),h=0,p=0,y=0,x=0,E=0,j=0,b=0,q=!1,S=!1,w=!0,A=!0,k=0,M=0,X=(u.length-1)*L,Y=.35*u[0].offsetWidth,W=/([-0-9.]+(?=px))/,C=function(){return-1!==event.type.search("touch")?event.touches[0]:event},D=function(){A&&(l.style.transition="transform .5s"),l.style.transform="translate3d(-".concat(h*L,"px, 0px, 0px)"),m.classList.toggle("disabled",0==h),_.classList.toggle("disabled",h==u.length-1),B(h)},H=function(){var e=C();w&&(A=!0,k=(h+1)*-L,M=(h-1)*-L,p=y=e.clientX,E=e.clientY,l.style.transition="",document.addEventListener("touchmove",I),document.addEventListener("mousemove",I),document.addEventListener("touchend",O),document.addEventListener("mouseup",O),d.classList.remove("grab"),d.classList.add("grabbing")),B(h)},I=function(){var e=C(),t=+l.style.transform.match(W)[0];if(x=y-e.clientX,y=e.clientX,j=E-e.clientY,E=e.clientY,!q&&!S){var n=Math.abs(j);n>7||0==x?(S=!0,w=!1):n<7&&(q=!0)}if(q){if(0==h){if(p<y)return void T(t,0);w=!0}if(h===u.length-1){if(p>y)return void T(t,X);w=!0}if(p>y&&t<k||p<y&&t>M)return void z();l.style.transform="translate3d(".concat(t-x,"px, 0px, 0px)")}B(h)},O=function e(){b=p-y,S=!1,q=!1,document.removeEventListener("touchmove",I),document.removeEventListener("mousemove",I),document.removeEventListener("touchend",e),document.removeEventListener("mouseup",e),d.classList.add("grab"),d.classList.remove("grabbing"),w?(Math.abs(b)>Y&&(p<y?h--:p>y&&h++),p!==y?(w=!1,D()):w=!0):w=!0,B(h)},T=function(e,t){e>=t&&e>t&&(l.style.transform="translate3d(".concat(t,"px, 0px, 0px)")),w=!1,B(h)},z=function(){A=!1,O(),w=!0,B(h)};function B(e){c.querySelectorAll("."+a).forEach((function(t){t.classList.remove("active"),t.dataset.slideIndex==e&&t.classList.add("active")}))}l.style.transform="translate3d(0px, 0px, 0px)",d.classList.add("grab"),l.addEventListener("transitionend",(function(){w=!0,f.innerHTML="".concat(h+1,"/").concat(u.length)})),c.addEventListener("touchstart",(function(e){return H()})),c.addEventListener("mousedown",(function(e){return H()})),v.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("next"))h++;else{if(!t.classList.contains("prev"))return;h--}D(),B(h)})),c.querySelector(i)&&c.querySelector(i).addEventListener("click",(function(e){c.querySelectorAll("."+a).forEach((function(e){e.classList.remove("active")})),h=e.target.getAttribute("data-slide-index"),e.target.classList.add("active"),D()}));for(var F=0;F<u.length;F++){var G=document.createElement("button");G.classList.add(o),G.classList.add(a),G.setAttribute("data-slide-index",F),g.append(G)}document.querySelectorAll("."+a)[0].classList.add("active")}document.querySelector(".js__slider")&&e(".js__slider",".js__slider-list",".js__slider-track",".js__slide",".js__slider-arrows",".js__slider-pagination","js_dot","hero__slider-pagination-item"),document.querySelector(".js__news-slider")&&e(".js__news-slider",".js__news-slider-list",".js__news-slider-track",".js__news-slide",".js__news-slider-arrows",".js__news-slider-pagination","js_news-dot","news__slider-pagination-item")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGlkZXJSdW4iLCJqc3NsaWRlciIsImpzc2xpZGVyTGlzdCIsImpzc2xpZGVyVHJhY2siLCJqc3NsaWRlcyIsImpzYXJyb3dzIiwianNwYWdpbmF0aW9uIiwiZG90c25hbWUiLCJkb3RzQ2xhc3MiLCJzbGlkZXIiLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVyTGlzdCIsInNsaWRlclRyYWNrIiwic2xpZGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImFycm93cyIsInByZXYiLCJjaGlsZHJlbiIsImluZGV4U2xpZGVUZXh0IiwibmV4dCIsInNsaWRlV2lkdGgiLCJvZmZzZXRXaWR0aCIsInBhZ2luYXRpb24iLCJzbGlkZUluZGV4IiwicG9zSW5pdCIsInBvc1gxIiwicG9zWDIiLCJwb3NZMSIsInBvc1kyIiwicG9zRmluYWwiLCJpc1N3aXBlIiwiaXNTY3JvbGwiLCJhbGxvd1N3aXBlIiwidHJhbnNpdGlvbiIsIm5leHRUcmYiLCJwcmV2VHJmIiwibGFzdFRyZiIsImxlbmd0aCIsInBvc1RocmVzaG9sZCIsInRyZlJlZ0V4cCIsImdldEV2ZW50IiwiZXZlbnQiLCJ0eXBlIiwic2VhcmNoIiwidG91Y2hlcyIsInNsaWRlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzd2l0Y2hEb3RzIiwic3dpcGVTdGFydCIsImV2dCIsImNsaWVudFgiLCJjbGllbnRZIiwic3dpcGVBY3Rpb24iLCJzd2lwZUVuZCIsInJlbW92ZSIsImFkZCIsIm1hdGNoIiwicG9zWSIsIk1hdGgiLCJhYnMiLCJzZXRUcmFuc2Zvcm0iLCJyZWFjaEVkZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29tYXByZVRyYW5zZm9ybSIsImluZGV4IiwiZm9yRWFjaCIsImRvdCIsImRhdGFzZXQiLCJpbm5lckhUTUwiLCJ0YXJnZXQiLCJjb250YWlucyIsImUi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YWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gc2xpZGVyUnVuKFxuXHRcdGpzc2xpZGVyLCBcblx0XHRqc3NsaWRlckxpc3QsIFxuXHRcdGpzc2xpZGVyVHJhY2ssIFxuXHRcdGpzc2xpZGVzLCBcblx0XHRqc2Fycm93cyxcblx0XHRqc3BhZ2luYXRpb24sXG5cdFx0ZG90c25hbWUsXG5cdFx0ZG90c0NsYXNzKSB7XG4gICAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqc3NsaWRlcilcbiAgICBjb25zdCBzbGlkZXJMaXN0ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoanNzbGlkZXJMaXN0KVxuICAgIGNvbnN0IHNsaWRlclRyYWNrID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoanNzbGlkZXJUcmFjaylcbiAgICBjb25zdCBzbGlkZXMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChqc3NsaWRlcylcbiAgICBjb25zdCBhcnJvd3MgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc2Fycm93cylcbiAgICBjb25zdCBwcmV2ID0gYXJyb3dzLmNoaWxkcmVuWzBdXG4gICAgY29uc3QgaW5kZXhTbGlkZVRleHQgPSBhcnJvd3MuY2hpbGRyZW5bMV1cbiAgICBjb25zdCBuZXh0ID0gYXJyb3dzLmNoaWxkcmVuWzJdXG4gICAgY29uc3Qgc2xpZGVXaWR0aCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aFxuICAgIGNvbnN0IHBhZ2luYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpzcGFnaW5hdGlvbilcbiAgICBsZXQgc2xpZGVJbmRleCA9IDBcbiAgICBsZXQgcG9zSW5pdCA9IDBcbiAgICBsZXQgcG9zWDEgPSAwXG4gICAgbGV0IHBvc1gyID0gMFxuICAgIGxldCBwb3NZMSA9IDBcbiAgICBsZXQgcG9zWTIgPSAwXG4gICAgbGV0IHBvc0ZpbmFsID0gMFxuICAgIGxldCBpc1N3aXBlID0gZmFsc2VcbiAgICBsZXQgaXNTY3JvbGwgPSBmYWxzZVxuICAgIGxldCBhbGxvd1N3aXBlID0gdHJ1ZVxuICAgIGxldCB0cmFuc2l0aW9uID0gdHJ1ZVxuICAgIGxldCBuZXh0VHJmID0gMFxuICAgIGxldCBwcmV2VHJmID0gMFxuICAgIGNvbnN0IGxhc3RUcmYgPSAoc2xpZGVzLmxlbmd0aCAtIDEpICogc2xpZGVXaWR0aFxuICAgIGNvbnN0IHBvc1RocmVzaG9sZCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aCAqIDAuMzVcbiAgICBjb25zdCB0cmZSZWdFeHAgPSAvKFstMC05Ll0rKD89cHgpKS9cbiAgICBjb25zdCBnZXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBldmVudC50eXBlLnNlYXJjaChgdG91Y2hgKSAhPT0gLTEgPyBldmVudC50b3VjaGVzWzBdIDogZXZlbnRcbiAgICB9XG4gICAgY29uc3Qgc2xpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2l0aW9uID0gYHRyYW5zZm9ybSAuNXNgXG4gICAgICB9XG4gICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoLSR7XG4gICAgICAgIHNsaWRlSW5kZXggKiBzbGlkZVdpZHRoXG4gICAgICB9cHgsIDBweCwgMHB4KWBcblxuICAgICAgcHJldi5jbGFzc0xpc3QudG9nZ2xlKGBkaXNhYmxlZGAsIHNsaWRlSW5kZXggPT0gMClcbiAgICAgIG5leHQuY2xhc3NMaXN0LnRvZ2dsZShgZGlzYWJsZWRgLCBzbGlkZUluZGV4ID09IChzbGlkZXMubGVuZ3RoIC0gMSkpXG4gICAgICBzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG5cbiAgICB9XG4gICAgY29uc3Qgc3dpcGVTdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBldnQgPSBnZXRFdmVudCgpO1xuXG4gICAgICBpZiAoYWxsb3dTd2lwZSkge1xuICAgICAgICB0cmFuc2l0aW9uID0gdHJ1ZTtcblxuICAgICAgICBuZXh0VHJmID0gKHNsaWRlSW5kZXggKyAxKSAqIC1zbGlkZVdpZHRoO1xuICAgICAgICBwcmV2VHJmID0gKHNsaWRlSW5kZXggLSAxKSAqIC1zbGlkZVdpZHRoO1xuXG4gICAgICAgIHBvc0luaXQgPSBwb3NYMSA9IGV2dC5jbGllbnRYO1xuICAgICAgICBwb3NZMSA9IGV2dC5jbGllbnRZO1xuXG4gICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zaXRpb24gPSBcIlwiO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgc3dpcGVBY3Rpb24pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHN3aXBlQWN0aW9uKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHN3aXBlRW5kKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgc3dpcGVFbmQpO1xuXG4gICAgICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcImdyYWJcIik7XG4gICAgICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZChcImdyYWJiaW5nXCIpO1xuXHRcdFx0fVxuXHRcdFx0c3dpdGNoRG90cyhzbGlkZUluZGV4KVxuXHRcdFx0XG4gICAgfTtcbiAgICBjb25zdCBzd2lwZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGV2dCA9IGdldEV2ZW50KClcbiAgICAgIGNvbnN0IHN0eWxlID0gc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSArc3R5bGUubWF0Y2godHJmUmVnRXhwKVswXVxuXG4gICAgICBwb3NYMiA9IHBvc1gxIC0gZXZ0LmNsaWVudFhcbiAgICAgIHBvc1gxID0gZXZ0LmNsaWVudFhcblxuICAgICAgcG9zWTIgPSBwb3NZMSAtIGV2dC5jbGllbnRZXG4gICAgICBwb3NZMSA9IGV2dC5jbGllbnRZXG5cbiAgICAgIC8vINC+0L/RgNC10LTQtdC70LXQvdC40LUg0LTQtdC50YHRgtCy0LjRjyDRgdCy0LDQudC/INC40LvQuCDRgdC60YDQvtC70LtcbiAgICAgIGlmICghaXNTd2lwZSAmJiAhaXNTY3JvbGwpIHtcbiAgICAgICAgY29uc3QgcG9zWSA9IE1hdGguYWJzKHBvc1kyKVxuICAgICAgICBpZiAocG9zWSA+IDcgfHwgcG9zWDIgPT0gMCkge1xuICAgICAgICAgIGlzU2Nyb2xsID0gdHJ1ZVxuICAgICAgICAgIGFsbG93U3dpcGUgPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKHBvc1kgPCA3KSB7XG4gICAgICAgICAgaXNTd2lwZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNTd2lwZSkge1xuICAgICAgICAvLyDQt9Cw0L/RgNC10YIg0YPRhdC+0LTQsCDQstC70LXQstC+INC90LAg0L/QtdGA0LLQvtC8INGB0LvQsNC50LTQtVxuICAgICAgICBpZiAoc2xpZGVJbmRleCA9PSAwKSB7XG4gICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xuICAgICAgICAgICAgc2V0VHJhbnNmb3JtKHRyYW5zZm9ybSwgMClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8g0LfQsNC/0YDQtdGCINGD0YXQvtC00LAg0LLQv9GA0LDQstC+INC90LAg0L/QvtGB0LvQtdC00L3QtdC8INGB0LvQsNC50LTQtVxuICAgICAgICBpZiAoc2xpZGVJbmRleCA9PT0gKHNsaWRlcy5sZW5ndGggLSAxKSkge1xuICAgICAgICAgIGlmIChwb3NJbml0ID4gcG9zWDEpIHtcbiAgICAgICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIGxhc3RUcmYpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDQt9Cw0L/RgNC10YIg0L/RgNC+0YLQsNGB0LrQuNCy0LDQvdC40Y8g0LTQsNC70YzRiNC1INC+0LTQvdC+0LPQviDRgdC70LDQudC00LBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChwb3NJbml0ID4gcG9zWDEgJiYgdHJhbnNmb3JtIDwgbmV4dFRyZikgfHxcbiAgICAgICAgICAgIChwb3NJbml0IDwgcG9zWDEgJiYgdHJhbnNmb3JtID4gcHJldlRyZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVhY2hFZGdlKClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vINC00LLQuNCz0LDQtdC8INGB0LvQsNC50LRcbiAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7XG4gICAgICAgICAgdHJhbnNmb3JtIC0gcG9zWDJcbiAgICAgICAgfXB4LCAwcHgsIDBweClgXG5cdFx0XHR9XG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG5cdFx0XHRcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwb3NGaW5hbCA9IHBvc0luaXQgLSBwb3NYMVxuXG4gICAgICBpc1Njcm9sbCA9IGZhbHNlXG4gICAgICBpc1N3aXBlID0gZmFsc2VcblxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgdG91Y2htb3ZlYCwgc3dpcGVBY3Rpb24pXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGBtb3VzZW1vdmVgLCBzd2lwZUFjdGlvbilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYHRvdWNoZW5kYCwgc3dpcGVFbmQpXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgc3dpcGVFbmQpXG5cbiAgICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZChgZ3JhYmApXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoYGdyYWJiaW5nYClcblxuICAgICAgaWYgKGFsbG93U3dpcGUpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHBvc0ZpbmFsKSA+IHBvc1RocmVzaG9sZCkge1xuICAgICAgICAgIGlmIChwb3NJbml0IDwgcG9zWDEpIHtcbiAgICAgICAgICAgIHNsaWRlSW5kZXgtLVxuICAgICAgICAgIH0gZWxzZSBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XG4gICAgICAgICAgICBzbGlkZUluZGV4KytcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zSW5pdCAhPT0gcG9zWDEpIHtcbiAgICAgICAgICBhbGxvd1N3aXBlID0gZmFsc2VcbiAgICAgICAgICBzbGlkZSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcblx0XHRcdH1cblx0XHRcdHN3aXRjaERvdHMoc2xpZGVJbmRleClcbiAgICB9XG4gICAgY29uc3Qgc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgY29tYXByZVRyYW5zZm9ybSkge1xuICAgICAgaWYgKHRyYW5zZm9ybSA+PSBjb21hcHJlVHJhbnNmb3JtKSB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0gPiBjb21hcHJlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7Y29tYXByZVRyYW5zZm9ybX1weCwgMHB4LCAwcHgpYFxuICAgICAgICB9XG4gICAgICB9XG5cdFx0XHRhbGxvd1N3aXBlID0gZmFsc2Vcblx0XHRcdHN3aXRjaERvdHMoc2xpZGVJbmRleClcblx0XHRcdFxuICAgIH1cbiAgICBjb25zdCByZWFjaEVkZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0cmFuc2l0aW9uID0gZmFsc2VcbiAgICAgIHN3aXBlRW5kKClcblx0XHRcdGFsbG93U3dpcGUgPSB0cnVlXG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG5cdFx0XHRcbiAgICB9XG5cbiAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweClgXG4gICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKGBncmFiYClcblxuICAgIHNsaWRlclRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoYHRyYW5zaXRpb25lbmRgLCAoKSA9PiB7XG4gICAgICBhbGxvd1N3aXBlID0gdHJ1ZVxuICAgICAgaW5kZXhTbGlkZVRleHQuaW5uZXJIVE1MID0gYCR7c2xpZGVJbmRleCArIDF9LyR7c2xpZGVzLmxlbmd0aH1gXG5cbiAgICB9KVxuICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKGB0b3VjaHN0YXJ0YCwgKGV2ZW50KSA9PiBzd2lwZVN0YXJ0KGV2ZW50KSlcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihgbW91c2Vkb3duYCwgKGV2ZW50KSA9PiBzd2lwZVN0YXJ0KGV2ZW50KSlcblxuICAgIGFycm93cy5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0XG4gICAgICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQuY2xhc3NMaXN0KVxuXG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgbmV4dGApKSB7XG4gICAgICAgIHNsaWRlSW5kZXgrK1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGBwcmV2YCkpIHtcbiAgICAgICAgc2xpZGVJbmRleC0tXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuXHRcdFx0c2xpZGUoKVxuXHRcdFx0c3dpdGNoRG90cyhzbGlkZUluZGV4KVxuXHRcdFx0XG4gICAgICAvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XG5cbiAgICB9KVxuXG4gICAgaWYgKHNsaWRlci5xdWVyeVNlbGVjdG9yKGpzcGFnaW5hdGlvbikpIHtcblxuICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoanNwYWdpbmF0aW9uKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnN0IGRvdHRzID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgZG90c25hbWUpXG4gICAgICAgIGRvdHRzLmZvckVhY2goKGRvdCkgPT4ge1xuICAgICAgICAgIGRvdC5jbGFzc0xpc3QucmVtb3ZlKGBhY3RpdmVgKVxuICAgICAgICB9KVxuICAgICAgICBzbGlkZUluZGV4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKGBkYXRhLXNsaWRlLWluZGV4YClcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChgYWN0aXZlYClcbiAgICAgICAgc2xpZGUoKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzd2l0Y2hEb3RzKGluZGV4KSB7XG4gICAgICBjb25zdCBkb3R0cyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGRvdHNuYW1lKVxuICAgICAgZG90dHMuZm9yRWFjaCgoZG90KSA9PiB7XG4gICAgICAgIGRvdC5jbGFzc0xpc3QucmVtb3ZlKGBhY3RpdmVgKVxuICAgICAgICBpZiAoZG90LmRhdGFzZXQuc2xpZGVJbmRleCA9PSBpbmRleCkge1xuICAgICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKGBhY3RpdmVgKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblx0XHQvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgY29uc3QgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgYnV0dG9uYClcbiAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKGRvdHNDbGFzcylcbiAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKGRvdHNuYW1lKVxuICAgICAgZG90LnNldEF0dHJpYnV0ZShgZGF0YS1zbGlkZS1pbmRleGAsIGkpXG4gICAgICBwYWdpbmF0aW9uLmFwcGVuZChkb3QpXG4gICAgfVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nK2RvdHNuYW1lKVswXS5jbGFzc0xpc3QuYWRkKGBhY3RpdmVgKVxuXHR9XG5cdFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gPT09PT09PT09PT09PT09PT09PT3QktGL0LfQvtCyINGB0LvQsNC50LTQtdGA0L7Qsj09PT09PT09PT09PT09PT09XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAh0YHQu9Cw0LnQtNC10YAg0L3QsCDQs9C70LDQstC90L7QuSBoZXJvXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzX19zbGlkZXJgKSkge1xuXHRzbGlkZXJSdW4oXG5cdFx0YC5qc19fc2xpZGVyYCxcblx0XHRgLmpzX19zbGlkZXItbGlzdGAsXG5cdFx0YC5qc19fc2xpZGVyLXRyYWNrYCxcblx0XHRgLmpzX19zbGlkZWAsXG5cdFx0YC5qc19fc2xpZGVyLWFycm93c2AsXG5cdFx0YC5qc19fc2xpZGVyLXBhZ2luYXRpb25gLFxuXHRcdGBqc19kb3RgLFxuXHRcdGBoZXJvX19zbGlkZXItcGFnaW5hdGlvbi1pdGVtYFxuICAgIClcblx0fVxuXHRcbi8vICHRgdC70LDQudC00LXRgCDQvdC+0LLQvtGB0YLQuFxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzX19uZXdzLXNsaWRlcmApKSB7XG4gICAgc2xpZGVyUnVuKFxuICAgICAgYC5qc19fbmV3cy1zbGlkZXJgLFxuICAgICAgYC5qc19fbmV3cy1zbGlkZXItbGlzdGAsXG4gICAgICBgLmpzX19uZXdzLXNsaWRlci10cmFja2AsXG4gICAgICBgLmpzX19uZXdzLXNsaWRlYCxcbiAgICAgIGAuanNfX25ld3Mtc2xpZGVyLWFycm93c2AsXG5cdFx0XHRgLmpzX19uZXdzLXNsaWRlci1wYWdpbmF0aW9uYCxcblx0XHRcdGBqc19uZXdzLWRvdGAsXG5cdFx0XHRgbmV3c19fc2xpZGVyLXBhZ2luYXRpb24taXRlbWBcbiAgICApXG4gIH1cblxuXG4gIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanNfX3BhcnRuZXJzLXNsaWRlcmApKSB7XG5cbiAgLy8gICBzbGlkZXJSdW4oXG4gIC8vICAgICBgLmpzX19wYXJ0bmVycy1zbGlkZXJgLFxuICAvLyAgICAgYC5qc19fcGFydG5lcnMtc2xpZGVyLWxpc3RgLFxuICAvLyAgICAgYC5qc19fcGFydG5lcnMtc2xpZGVyLXRyYWNrYCxcbiAgLy8gICAgIGAuanNfX3BhcnRuZXJzLXNsaWRlYCxcbiAgLy8gICAgIGAuanNfX3BhcnRuZXJzLXNsaWRlci1hcnJvd3NgXG4gIC8vICAgKVxuICAvLyB9XG59KVxuIl19
