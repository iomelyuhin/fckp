"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e,t,n,s,r){var i=document.querySelector(e),a=i.querySelector(t),o=i.querySelector(n),c=i.querySelectorAll(s),d=i.querySelector(r),l=d.children[0],u=d.children[1],v=d.children[2],m=c[0].offsetWidth,f=0,_=0,L=0,p=0,g=0,h=0,y=0,j=!1,x=!1,E=!0,b=!0,q=0,S=0,A=(c.length-1)*m,k=.35*c[0].offsetWidth,M=/([-0-9.]+(?=px))/,w=function(){return-1!==event.type.search("touch")?event.touches[0]:event},X=function(){b&&(o.style.transition="transform .5s"),o.style.transform="translate3d(-".concat(f*m,"px, 0px, 0px)"),l.classList.toggle("disabled",0==f),v.classList.toggle("disabled",f==c.length-1),I(f)},Y=function(){var e=w();E&&(b=!0,q=(f+1)*-m,S=(f-1)*-m,_=L=e.clientX,g=e.clientY,o.style.transition="",document.addEventListener("touchmove",W),document.addEventListener("mousemove",W),document.addEventListener("touchend",C),document.addEventListener("mouseup",C),a.classList.remove("grab"),a.classList.add("grabbing")),I(f)},W=function(){var e=w(),t=+o.style.transform.match(M)[0];if(p=L-e.clientX,L=e.clientX,h=g-e.clientY,g=e.clientY,!j&&!x){var n=Math.abs(h);n>7||0==p?(x=!0,E=!1):n<7&&(j=!0)}if(j){if(0==f){if(_<L)return void D(t,0);E=!0}if(f===c.length-1){if(_>L)return void D(t,A);E=!0}if(_>L&&t<q||_<L&&t>S)return void H();o.style.transform="translate3d(".concat(t-p,"px, 0px, 0px)")}I(f)},C=function e(){y=_-L,x=!1,j=!1,document.removeEventListener("touchmove",W),document.removeEventListener("mousemove",W),document.removeEventListener("touchend",e),document.removeEventListener("mouseup",e),a.classList.add("grab"),a.classList.remove("grabbing"),E?(Math.abs(y)>k&&(_<L?f--:_>L&&f++),_!==L?(E=!1,X()):E=!0):E=!0,I(f)},D=function(e,t){e>=t&&e>t&&(o.style.transform="translate3d(".concat(t,"px, 0px, 0px)")),E=!1,I(f)},H=function(){b=!1,C(),E=!0,I(f)};function I(e){i.querySelectorAll(".js_dot").forEach((function(t){t.classList.remove("active"),t.dataset.slideIndex==e&&t.classList.add("active")}))}o.style.transform="translate3d(0px, 0px, 0px)",a.classList.add("grab"),o.addEventListener("transitionend",(function(){E=!0,u.innerHTML="".concat(f+1,"/").concat(c.length)})),i.addEventListener("touchstart",(function(e){return Y()})),i.addEventListener("mousedown",(function(e){return Y()})),d.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("next"))f++;else{if(!t.classList.contains("prev"))return;f--}X(),I(f)})),i.querySelector(".js__slider-pagination")&&i.querySelector(".js__slider-pagination").addEventListener("click",(function(e){i.querySelectorAll(".js_dot").forEach((function(e){e.classList.remove("active")})),f=e.target.getAttribute("data-slide-index"),e.target.classList.add("active"),X()}))}if(document.querySelector(".js__slider")){e(".js__slider",".js__slider-list",".js__slider-track",".js__slide",".js__slider-arrows");for(var t=document.querySelectorAll(".js__slide"),n=document.querySelector(".js__slider-pagination"),s=0;s<t.length;s++){var r=document.createElement("button");r.classList.add("hero__slider-pagination-item"),r.classList.add("js_dot"),r.setAttribute("data-slide-index",s),n.append(r)}document.querySelectorAll(".js_dot")[0].classList.add("active")}document.querySelector(".js__partners-slider")&&e(".js__partners-slider",".js__partners-slider-list",".js__partners-slider-track",".js__partners-slide",".js__partners-slider-arrows")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGlkZXJSdW4iLCJqc3NsaWRlciIsImpzc2xpZGVyTGlzdCIsImpzc2xpZGVyVHJhY2siLCJqc3NsaWRlcyIsImpzYXJyb3dzIiwic2xpZGVyIiwicXVlcnlTZWxlY3RvciIsInNsaWRlckxpc3QiLCJzbGlkZXJUcmFjayIsInNsaWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJvd3MiLCJwcmV2IiwiY2hpbGRyZW4iLCJpbmRleFNsaWRlVGV4dCIsIm5leHQiLCJzbGlkZVdpZHRoIiwib2Zmc2V0V2lkdGgiLCJzbGlkZUluZGV4IiwicG9zSW5pdCIsInBvc1gxIiwicG9zWDIiLCJwb3NZMSIsInBvc1kyIiwicG9zRmluYWwiLCJpc1N3aXBlIiwiaXNTY3JvbGwiLCJhbGxvd1N3aXBlIiwidHJhbnNpdGlvbiIsIm5leHRUcmYiLCJwcmV2VHJmIiwibGFzdFRyZiIsImxlbmd0aCIsInBvc1RocmVzaG9sZCIsInRyZlJlZ0V4cCIsImdldEV2ZW50IiwiZXZlbnQiLCJ0eXBlIiwic2VhcmNoIiwidG91Y2hlcyIsInNsaWRlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzd2l0Y2hEb3RzIiwic3dpcGVTdGFydCIsImV2dCIsImNsaWVudFgiLCJjbGllbnRZIiwic3dpcGVBY3Rpb24iLCJzd2lwZUVuZCIsInJlbW92ZSIsImFkZCIsIm1hdGNoIiwicG9zWSIsIk1hdGgiLCJhYnMiLCJzZXRUcmFuc2Zvcm0iLCJyZWFjaEVkZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29tYXByZVRyYW5zZm9ybSIsImluZGV4IiwiZm9yRWFjaCIsImRvdCIsImRhdGFzZXQiLCJpbm5lckhUTUwiLCJ0YXJnZXQiLCJjb250YWlucyIsImUiLCJnZXRBdHRyaWJ1dGUiLCJwYWdpbmF0aW9uIiwiaSIsImNyZWF0ZUVsZW1lbnQiLCJz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LEdBQUQsT0FBV1csT0FFaERwQyxFQUFPYixpQkFBUCxTQUFpQyxTQUFVc0MsR0FDekMsSUFBTWdDLEVBQVNoQyxFQUFNZ0MsT0FHckIsR0FBSUEsRUFBT3hCLFVBQVV5QixTQUFqQixRQUNGbkQsUUFDSyxDQUFBLElBQUlrRCxFQUFPeEIsVUFBVXlCLFNBQWpCLFFBR1QsT0FGQW5ELElBS0xzQixJQUNBTSxFQUFXNUIsTUFNTmIsRUFBT0MsY0FBUCwyQkFFRkQsRUFBT0MsY0FBUCwwQkFBK0NSLGlCQUEvQyxTQUF5RSxTQUFVd0UsR0FDbkVqRSxFQUFPSyxpQkFBUCxXQUNSc0QsU0FBUSxTQUFDQyxHQUNiQSxFQUFJckIsVUFBVVMsT0FBZCxhQUVGbkMsRUFBYW9ELEVBQUVGLE9BQU9HLGFBQVQsb0JBQ2JELEVBQUVGLE9BQU94QixVQUFVVSxJQUFuQixVQUNBZCxPQWVOLEdBQUkzQyxTQUFTUyxjQUFULGVBQXVDLENBQ3pDUCxFQUFTLGNBQUEsbUJBQUEsb0JBQUEsYUFBQSxzQkFTVCxJQUZBLElBQU1VLEVBQVNaLFNBQVNhLGlCQUFULGNBQ1Q4RCxFQUFhM0UsU0FBU1MsY0FBVCwwQkFDVm1FLEVBQUksRUFBR0EsRUFBSWhFLEVBQU91QixPQUFReUMsSUFBSyxDQUV0QyxJQUFNUixFQUFNcEUsU0FBUzZFLGNBQVQsVUFDWlQsRUFBSXJCLFVBQVVVLElBQWQsZ0NBQ0FXLEVBQUlyQixVQUFVVSxJQUFkLFVBQ0FXLEVBQUlVLGFBQUosbUJBQXFDRixHQUNyQ0QsRUFBV0ksT0FBT1gsR0FFcEJwRSxTQUFTYSxpQkFBVCxXQUFxQyxHQUFHa0MsVUFBVVUsSUFBbEQsVUFPRXpELFNBQVNTLGNBQVQseUJBRUZQLEVBQVMsdUJBQUEsNEJBQUEsNkJBQUEsc0JBQUEiLCJmaWxlIjoic2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBzbGlkZXJSdW4oanNzbGlkZXIsIGpzc2xpZGVyTGlzdCwganNzbGlkZXJUcmFjaywganNzbGlkZXMsIGpzYXJyb3dzKSB7XHJcbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpzc2xpZGVyKVxyXG4gICAgY29uc3Qgc2xpZGVyTGlzdCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKGpzc2xpZGVyTGlzdClcclxuICAgIGNvbnN0IHNsaWRlclRyYWNrID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoanNzbGlkZXJUcmFjaylcclxuICAgIGNvbnN0IHNsaWRlcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKGpzc2xpZGVzKVxyXG4gICAgY29uc3QgYXJyb3dzID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoanNhcnJvd3MpXHJcbiAgICBjb25zdCBwcmV2ID0gYXJyb3dzLmNoaWxkcmVuWzBdXHJcbiAgICBjb25zdCBpbmRleFNsaWRlVGV4dCA9IGFycm93cy5jaGlsZHJlblsxXVxyXG4gICAgY29uc3QgbmV4dCA9IGFycm93cy5jaGlsZHJlblsyXVxyXG4gICAgY29uc3Qgc2xpZGVXaWR0aCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aFxyXG4gICAgbGV0IHNsaWRlSW5kZXggPSAwXHJcbiAgICBsZXQgcG9zSW5pdCA9IDBcclxuICAgIGxldCBwb3NYMSA9IDBcclxuICAgIGxldCBwb3NYMiA9IDBcclxuICAgIGxldCBwb3NZMSA9IDBcclxuICAgIGxldCBwb3NZMiA9IDBcclxuICAgIGxldCBwb3NGaW5hbCA9IDBcclxuICAgIGxldCBpc1N3aXBlID0gZmFsc2VcclxuICAgIGxldCBpc1Njcm9sbCA9IGZhbHNlXHJcbiAgICBsZXQgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgIGxldCB0cmFuc2l0aW9uID0gdHJ1ZVxyXG4gICAgbGV0IG5leHRUcmYgPSAwXHJcbiAgICBsZXQgcHJldlRyZiA9IDBcclxuICAgIGNvbnN0IGxhc3RUcmYgPSAoc2xpZGVzLmxlbmd0aCAtIDEpICogc2xpZGVXaWR0aFxyXG4gICAgY29uc3QgcG9zVGhyZXNob2xkID0gc2xpZGVzWzBdLm9mZnNldFdpZHRoICogMC4zNVxyXG4gICAgY29uc3QgdHJmUmVnRXhwID0gLyhbLTAtOS5dKyg/PXB4KSkvXHJcbiAgICBjb25zdCBnZXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50LnR5cGUuc2VhcmNoKGB0b3VjaGApICE9PSAtMSA/IGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudFxyXG4gICAgfVxyXG4gICAgY29uc3Qgc2xpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNpdGlvbiA9IGB0cmFuc2Zvcm0gLjVzYFxyXG4gICAgICB9XHJcbiAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgtJHtcclxuICAgICAgICBzbGlkZUluZGV4ICogc2xpZGVXaWR0aFxyXG4gICAgICB9cHgsIDBweCwgMHB4KWBcclxuXHJcbiAgICAgIHByZXYuY2xhc3NMaXN0LnRvZ2dsZShgZGlzYWJsZWRgLCBzbGlkZUluZGV4ID09IDApXHJcbiAgICAgIG5leHQuY2xhc3NMaXN0LnRvZ2dsZShgZGlzYWJsZWRgLCBzbGlkZUluZGV4ID09IChzbGlkZXMubGVuZ3RoIC0gMSkpXHJcbiAgICAgIHN3aXRjaERvdHMoc2xpZGVJbmRleClcclxuXHJcbiAgICB9XHJcbiAgICBjb25zdCBzd2lwZVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBsZXQgZXZ0ID0gZ2V0RXZlbnQoKTtcclxuXHJcbiAgICAgIGlmIChhbGxvd1N3aXBlKSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbiA9IHRydWU7XHJcblxyXG4gICAgICAgIG5leHRUcmYgPSAoc2xpZGVJbmRleCArIDEpICogLXNsaWRlV2lkdGg7XHJcbiAgICAgICAgcHJldlRyZiA9IChzbGlkZUluZGV4IC0gMSkgKiAtc2xpZGVXaWR0aDtcclxuXHJcbiAgICAgICAgcG9zSW5pdCA9IHBvc1gxID0gZXZ0LmNsaWVudFg7XHJcbiAgICAgICAgcG9zWTEgPSBldnQuY2xpZW50WTtcclxuXHJcbiAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNpdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgc3dpcGVBY3Rpb24pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgc3dpcGVBY3Rpb24pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBzd2lwZUVuZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgc3dpcGVFbmQpO1xyXG5cclxuICAgICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJncmFiXCIpO1xyXG4gICAgICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZChcImdyYWJiaW5nXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN3aXRjaERvdHMoc2xpZGVJbmRleClcclxuXHRcdFx0XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc3dpcGVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnN0IGV2dCA9IGdldEV2ZW50KClcclxuICAgICAgY29uc3Qgc3R5bGUgPSBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm1cclxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gK3N0eWxlLm1hdGNoKHRyZlJlZ0V4cClbMF1cclxuXHJcbiAgICAgIHBvc1gyID0gcG9zWDEgLSBldnQuY2xpZW50WFxyXG4gICAgICBwb3NYMSA9IGV2dC5jbGllbnRYXHJcblxyXG4gICAgICBwb3NZMiA9IHBvc1kxIC0gZXZ0LmNsaWVudFlcclxuICAgICAgcG9zWTEgPSBldnQuY2xpZW50WVxyXG5cclxuICAgICAgLy8g0L7Qv9GA0LXQtNC10LvQtdC90LjQtSDQtNC10LnRgdGC0LLQuNGPINGB0LLQsNC50L8g0LjQu9C4INGB0LrRgNC+0LvQu1xyXG4gICAgICBpZiAoIWlzU3dpcGUgJiYgIWlzU2Nyb2xsKSB7XHJcbiAgICAgICAgY29uc3QgcG9zWSA9IE1hdGguYWJzKHBvc1kyKVxyXG4gICAgICAgIGlmIChwb3NZID4gNyB8fCBwb3NYMiA9PSAwKSB7XHJcbiAgICAgICAgICBpc1Njcm9sbCA9IHRydWVcclxuICAgICAgICAgIGFsbG93U3dpcGUgPSBmYWxzZVxyXG4gICAgICAgIH0gZWxzZSBpZiAocG9zWSA8IDcpIHtcclxuICAgICAgICAgIGlzU3dpcGUgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNTd2lwZSkge1xyXG4gICAgICAgIC8vINC30LDQv9GA0LXRgiDRg9GF0L7QtNCwINCy0LvQtdCy0L4g0L3QsCDQv9C10YDQstC+0Lwg0YHQu9Cw0LnQtNC1XHJcbiAgICAgICAgaWYgKHNsaWRlSW5kZXggPT0gMCkge1xyXG4gICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xyXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm0odHJhbnNmb3JtLCAwKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsbG93U3dpcGUgPSB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8g0LfQsNC/0YDQtdGCINGD0YXQvtC00LAg0LLQv9GA0LDQstC+INC90LAg0L/QvtGB0LvQtdC00L3QtdC8INGB0LvQsNC50LTQtVxyXG4gICAgICAgIGlmIChzbGlkZUluZGV4ID09PSAoc2xpZGVzLmxlbmd0aCAtIDEpKSB7XHJcbiAgICAgICAgICBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XHJcbiAgICAgICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIGxhc3RUcmYpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINC30LDQv9GA0LXRgiDQv9GA0L7RgtCw0YHQutC40LLQsNC90LjRjyDQtNCw0LvRjNGI0LUg0L7QtNC90L7Qs9C+INGB0LvQsNC50LTQsFxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChwb3NJbml0ID4gcG9zWDEgJiYgdHJhbnNmb3JtIDwgbmV4dFRyZikgfHxcclxuICAgICAgICAgICAgKHBvc0luaXQgPCBwb3NYMSAmJiB0cmFuc2Zvcm0gPiBwcmV2VHJmKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmVhY2hFZGdlKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g0LTQstC40LPQsNC10Lwg0YHQu9Cw0LnQtFxyXG4gICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke1xyXG4gICAgICAgICAgdHJhbnNmb3JtIC0gcG9zWDJcclxuICAgICAgICB9cHgsIDBweCwgMHB4KWBcclxuXHRcdFx0fVxyXG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXHJcblx0XHRcdFxyXG4gICAgfVxyXG4gICAgY29uc3Qgc3dpcGVFbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHBvc0ZpbmFsID0gcG9zSW5pdCAtIHBvc1gxXHJcblxyXG4gICAgICBpc1Njcm9sbCA9IGZhbHNlXHJcbiAgICAgIGlzU3dpcGUgPSBmYWxzZVxyXG5cclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgdG91Y2htb3ZlYCwgc3dpcGVBY3Rpb24pXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYG1vdXNlbW92ZWAsIHN3aXBlQWN0aW9uKVxyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGB0b3VjaGVuZGAsIHN3aXBlRW5kKVxyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgc3dpcGVFbmQpXHJcblxyXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5hZGQoYGdyYWJgKVxyXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoYGdyYWJiaW5nYClcclxuXHJcbiAgICAgIGlmIChhbGxvd1N3aXBlKSB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHBvc0ZpbmFsKSA+IHBvc1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xyXG4gICAgICAgICAgICBzbGlkZUluZGV4LS1cclxuICAgICAgICAgIH0gZWxzZSBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XHJcbiAgICAgICAgICAgIHNsaWRlSW5kZXgrK1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBvc0luaXQgIT09IHBvc1gxKSB7XHJcbiAgICAgICAgICBhbGxvd1N3aXBlID0gZmFsc2VcclxuICAgICAgICAgIHNsaWRlKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtLCBjb21hcHJlVHJhbnNmb3JtKSB7XHJcbiAgICAgIGlmICh0cmFuc2Zvcm0gPj0gY29tYXByZVRyYW5zZm9ybSkge1xyXG4gICAgICAgIGlmICh0cmFuc2Zvcm0gPiBjb21hcHJlVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHtjb21hcHJlVHJhbnNmb3JtfXB4LCAwcHgsIDBweClgXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblx0XHRcdGFsbG93U3dpcGUgPSBmYWxzZVxyXG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXHJcblx0XHRcdFxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVhY2hFZGdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB0cmFuc2l0aW9uID0gZmFsc2VcclxuICAgICAgc3dpcGVFbmQoKVxyXG5cdFx0XHRhbGxvd1N3aXBlID0gdHJ1ZVxyXG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXHJcblx0XHRcdFxyXG4gICAgfVxyXG5cclxuICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwcHgsIDBweCwgMHB4KWBcclxuICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZChgZ3JhYmApXHJcblxyXG4gICAgc2xpZGVyVHJhY2suYWRkRXZlbnRMaXN0ZW5lcihgdHJhbnNpdGlvbmVuZGAsICgpID0+IHtcclxuICAgICAgYWxsb3dTd2lwZSA9IHRydWVcclxuICAgICAgaW5kZXhTbGlkZVRleHQuaW5uZXJIVE1MID0gYCR7c2xpZGVJbmRleCArIDF9LyR7c2xpZGVzLmxlbmd0aH1gXHJcblxyXG4gICAgfSlcclxuICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKGB0b3VjaHN0YXJ0YCwgKGV2ZW50KSA9PiBzd2lwZVN0YXJ0KGV2ZW50KSlcclxuICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKGBtb3VzZWRvd25gLCAoZXZlbnQpID0+IHN3aXBlU3RhcnQoZXZlbnQpKVxyXG5cclxuICAgIGFycm93cy5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXRcclxuICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LmNsYXNzTGlzdClcclxuXHJcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGBuZXh0YCkpIHtcclxuICAgICAgICBzbGlkZUluZGV4KytcclxuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGBwcmV2YCkpIHtcclxuICAgICAgICBzbGlkZUluZGV4LS1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuXHRcdFx0c2xpZGUoKVxyXG5cdFx0XHRzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXHJcblx0XHRcdFxyXG4gICAgICAvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoYC5qc19fc2xpZGVyLXBhZ2luYXRpb25gKSkge1xyXG5cclxuICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoYC5qc19fc2xpZGVyLXBhZ2luYXRpb25gKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgZG90dHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChgLmpzX2RvdGApXHJcbiAgICAgICAgZG90dHMuZm9yRWFjaCgoZG90KSA9PiB7XHJcbiAgICAgICAgICBkb3QuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNsaWRlSW5kZXggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoYGRhdGEtc2xpZGUtaW5kZXhgKVxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoYGFjdGl2ZWApXHJcbiAgICAgICAgc2xpZGUoKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN3aXRjaERvdHMoaW5kZXgpIHtcclxuICAgICAgY29uc3QgZG90dHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChgLmpzX2RvdGApXHJcbiAgICAgIGRvdHRzLmZvckVhY2goKGRvdCkgPT4ge1xyXG4gICAgICAgIGRvdC5jbGFzc0xpc3QucmVtb3ZlKGBhY3RpdmVgKVxyXG4gICAgICAgIGlmIChkb3QuZGF0YXNldC5zbGlkZUluZGV4ID09IGluZGV4KSB7XHJcbiAgICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZChgYWN0aXZlYClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XHJcbiAgfVxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanNfX3NsaWRlcmApKSB7XHJcbiAgICBzbGlkZXJSdW4oXHJcbiAgICAgIGAuanNfX3NsaWRlcmAsXHJcbiAgICAgIGAuanNfX3NsaWRlci1saXN0YCxcclxuICAgICAgYC5qc19fc2xpZGVyLXRyYWNrYCxcclxuICAgICAgYC5qc19fc2xpZGVgLFxyXG4gICAgICBgLmpzX19zbGlkZXItYXJyb3dzYFxyXG4gICAgKVxyXG4gICAgY29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmpzX19zbGlkZWApXHJcbiAgICBjb25zdCBwYWdpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzX19zbGlkZXItcGFnaW5hdGlvbmApXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgY29uc3QgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgYnV0dG9uYClcclxuICAgICAgZG90LmNsYXNzTGlzdC5hZGQoYGhlcm9fX3NsaWRlci1wYWdpbmF0aW9uLWl0ZW1gKVxyXG4gICAgICBkb3QuY2xhc3NMaXN0LmFkZChganNfZG90YClcclxuICAgICAgZG90LnNldEF0dHJpYnV0ZShgZGF0YS1zbGlkZS1pbmRleGAsIGkpXHJcbiAgICAgIHBhZ2luYXRpb24uYXBwZW5kKGRvdClcclxuICAgIH1cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5qc19kb3RgKVswXS5jbGFzc0xpc3QuYWRkKGBhY3RpdmVgKVxyXG5cclxuXHJcbiAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanNfZG90YCkuY2xhc3NMaXN0XHJcbiAgfVxyXG5cclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qc19fcGFydG5lcnMtc2xpZGVyYCkpIHtcclxuXHJcbiAgICBzbGlkZXJSdW4oXHJcbiAgICAgIGAuanNfX3BhcnRuZXJzLXNsaWRlcmAsXHJcbiAgICAgIGAuanNfX3BhcnRuZXJzLXNsaWRlci1saXN0YCxcclxuICAgICAgYC5qc19fcGFydG5lcnMtc2xpZGVyLXRyYWNrYCxcclxuICAgICAgYC5qc19fcGFydG5lcnMtc2xpZGVgLFxyXG4gICAgICBgLmpzX19wYXJ0bmVycy1zbGlkZXItYXJyb3dzYFxyXG4gICAgKVxyXG4gIH1cclxufSlcclxuIl19
