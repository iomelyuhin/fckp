"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e,t,s,n,r,i){var a=document.querySelector(e),o=a.querySelector(t),c=a.querySelector(s),d=a.querySelectorAll(n),l=(a.querySelectorAll(i),a.querySelector(r)),u=l.children[0],v=l.children[1],m=l.children[2],_=d[0].offsetWidth,f=0,L=0,p=0,g=0,h=0,y=0,j=0,x=!1,E=!1,q=!0,S=!0,b=0,A=0,k=(d.length-1)*_,M=.35*d[0].offsetWidth,w=/([-0-9.]+(?=px))/,X=function(){return-1!==event.type.search("touch")?event.touches[0]:event},Y=function(){var e;S&&(c.style.transition="transform .5s"),c.style.transform="translate3d(-".concat(f*_,"px, 0px, 0px)"),u.classList.toggle("disabled",0===f),m.classList.toggle("disabled",f===d.length-1),e=f,a.querySelectorAll(".js_dot").forEach((function(t){t.classList.remove("active"),t.dataset.slideIndex==e&&t.classList.add("active")}))},W=function(){var e=X();q&&(S=!0,b=(f+1)*-_,A=(f-1)*-_,L=p=e.clientX,h=e.clientY,c.style.transition="",document.addEventListener("touchmove",C),document.addEventListener("mousemove",C),document.addEventListener("touchend",D),document.addEventListener("mouseup",D),o.classList.remove("grab"),o.classList.add("grabbing"))},C=function(){var e=X(),t=+c.style.transform.match(w)[0];if(g=p-e.clientX,p=e.clientX,y=h-e.clientY,h=e.clientY,!x&&!E){var s=Math.abs(y);s>7||0===g?(E=!0,q=!1):s<7&&(x=!0)}if(x){if(0===f){if(L<p)return void H(t,0);q=!0}if(f===d.length-1){if(L>p)return void H(t,k);q=!0}if(L>p&&t<b||L<p&&t>A)return void I();c.style.transform="translate3d(".concat(t-g,"px, 0px, 0px)")}},D=function e(){j=L-p,E=!1,x=!1,document.removeEventListener("touchmove",C),document.removeEventListener("mousemove",C),document.removeEventListener("touchend",e),document.removeEventListener("mouseup",e),o.classList.add("grab"),o.classList.remove("grabbing"),q?(Math.abs(j)>M&&(L<p?f--:L>p&&f++),L!==p?(q=!1,Y()):q=!0):q=!0},H=function(e,t){e>=t&&e>t&&(c.style.transform="translate3d(".concat(t,"px, 0px, 0px)")),q=!1},I=function(){S=!1,D(),q=!0};c.style.transform="translate3d(0px, 0px, 0px)",o.classList.add("grab"),c.addEventListener("transitionend",(function(){q=!0,v.innerHTML="".concat(f+1,"/").concat(d.length)})),a.addEventListener("touchstart",W),a.addEventListener("mousedown",W),l.addEventListener("click",(function(){var e=event.target;if(e.classList.contains("next"))f++;else{if(!e.classList.contains("prev"))return;f--}Y()})),a.querySelector(".js__slider-pagination")&&a.querySelector(".js__slider-pagination").addEventListener("click",(function(e){a.querySelectorAll(".js_dot").forEach((function(e){e.classList.remove("active")})),f=e.target.getAttribute("data-slide-index"),e.target.classList.add("active"),Y()}))}if(document.querySelector(".js__slider")){e(".js__slider",".js__slider-list",".js__slider-track",".js__slide",".js__slider-arrows",".js_dot");for(var t=document.querySelectorAll(".js__slide"),s=document.querySelector(".js__slider-pagination"),n=0;n<t.length;n++){var r=document.createElement("button");r.classList.add("hero__slider-pagination-item"),r.classList.add("js_dot"),r.setAttribute("data-slide-index",n),s.append(r)}document.querySelectorAll(".js_dot")[0].classList.add("active"),document.querySelector(".js_dot").classList}document.querySelector(".js__partners-slider")&&e(".js__partners-slider",".js__partners-slider-list",".js__partners-slider-track",".js__partners-slide",".js__partners-slider-arrows")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGlkZXJfcnVuIiwianNfc2xpZGVyIiwianNfc2xpZGVyTGlzdCIsImpzX3NsaWRlclRyYWNrIiwianNfc2xpZGVzIiwianNfYXJyb3dzIiwianNfZG90Iiwic2xpZGVyIiwicXVlcnlTZWxlY3RvciIsInNsaWRlckxpc3QiLCJzbGlkZXJUcmFjayIsInNsaWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJvd3MiLCJwcmV2IiwiY2hpbGRyZW4iLCJpbmRleFNsaWRlVGV4dCIsIm5leHQiLCJzbGlkZVdpZHRoIiwib2Zmc2V0V2lkdGgiLCJzbGlkZUluZGV4IiwicG9zSW5pdCIsInBvc1gxIiwicG9zWDIiLCJwb3NZMSIsInBvc1kyIiwicG9zRmluYWwiLCJpc1N3aXBlIiwiaXNTY3JvbGwiLCJhbGxvd1N3aXBlIiwidHJhbnNpdGlvbiIsIm5leHRUcmYiLCJwcmV2VHJmIiwibGFzdFRyZiIsImxlbmd0aCIsInBvc1RocmVzaG9sZCIsInRyZlJlZ0V4cCIsImdldEV2ZW50IiwiZXZlbnQiLCJ0eXBlIiwic2VhcmNoIiwidG91Y2hlcyIsInNsaWRlIiwiaW5kZXgiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNvbmNhdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZvckVhY2giLCJkb3QiLCJyZW1vdmUiLCJkYXRhc2V0IiwiYWRkIiwic3dpcGVTdGFydCIsImV2dCIsImNsaWVudFgiLCJjbGllbnRZIiwic3dpcGVBY3Rpb24iLCJzd2lwZUVuZCIsIm1hdGNoIiwicG9zWSIsIk1hdGgiLCJhYnMiLCJzZXRUcmFuc2Zvcm0iLCJyZWFjaEVkZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29tYXByZVRyYW5zZm9ybSIsImlubmVySFRNTCIsInRhcmdldCIsImNvbnRhaW5zIiwiZSIsImdldEF0dHJpYnV0ZSIsInBhZ2luYXRpb24iLCJpIiwiY3JlYXRlRWxlbWVudCIs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QUFJQSxFQUFPdEIsVUFBVXVCLFNBQVMsUUFDNUJsRCxRQUNLLENBQUEsSUFBSWlELEVBQU90QixVQUFVdUIsU0FBUyxRQUduQyxPQUZBbEQsSUFLTHNCLE9BTUduQyxFQUFPQyxjQUFjLDJCQUV4QkQsRUFBT0MsY0FBYywwQkFBMEJULGlCQUFpQixTQUFTLFNBQVV3RSxHQUN0RWhFLEVBQU9LLGlCQUFpQixXQUM5QnFDLFNBQVEsU0FBQUMsR0FDYkEsRUFBSUgsVUFBVUksT0FBTyxhQUV0Qi9CLEVBQWFtRCxFQUFFRixPQUFPRyxhQUFhLG9CQUNuQ0QsRUFBRUYsT0FBT3RCLFVBQVVNLElBQUksVUFDdkJYLE9BZUgsR0FBSTVDLFNBQVNVLGNBQWMsZUFBZ0IsQ0FDMUNSLEVBQ0MsY0FDQSxtQkFDQSxvQkFDQSxhQUNBLHFCQUNBLFdBSUQsSUFGQSxJQUFJVyxFQUFTYixTQUFTYyxpQkFBaUIsY0FDbkM2RCxFQUFhM0UsU0FBU1UsY0FBYywwQkFDL0JrRSxFQUFJLEVBQUdBLEVBQUkvRCxFQUFPdUIsT0FBUXdDLElBQUssQ0FFdkMsSUFBSXhCLEVBQU1wRCxTQUFTNkUsY0FBYyxVQUNqQ3pCLEVBQUlILFVBQVVNLElBQUksZ0NBQ2xCSCxFQUFJSCxVQUFVTSxJQUFJLFVBQ2xCSCxFQUFJMEIsYUFBYSxtQkFBb0JGLEdBQ3JDRCxFQUFXSSxPQUFPM0IsR0FFbkJwRCxTQUFTYyxpQkFBaUIsV0FBVyxHQUFHbUMsVUFBVU0sSUFBSSxVQUd0RHZELFNBQVNVLGNBQWMsV0FBV3VDLFVBSS9CakQsU0FBU1UsY0FBYyx5QkFFMUJSLEVBQ0MsdUJBQ0EsNEJBQ0EsNkJBQ0Esc0JBQ0EiLCJmaWxlIjoic2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIGZ1bmN0aW9uICgpIHtcclxuICBmdW5jdGlvbiBzbGlkZXJfcnVuKGpzX3NsaWRlciwganNfc2xpZGVyTGlzdCwganNfc2xpZGVyVHJhY2ssIGpzX3NsaWRlcywganNfYXJyb3dzLCBqc19kb3QpIHtcclxuICAgIGxldCBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpzX3NsaWRlciksXHJcbiAgICAgIHNsaWRlckxpc3QgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc19zbGlkZXJMaXN0KSxcclxuICAgICAgc2xpZGVyVHJhY2sgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc19zbGlkZXJUcmFjayksXHJcbiAgICAgIHNsaWRlcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKGpzX3NsaWRlcyksXHJcbiAgICAgIGRvdHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChqc19kb3QpLFxyXG4gICAgICBhcnJvd3MgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc19hcnJvd3MpLFxyXG4gICAgICBwcmV2ID0gYXJyb3dzLmNoaWxkcmVuWzBdLFxyXG4gICAgICBpbmRleFNsaWRlVGV4dCA9IGFycm93cy5jaGlsZHJlblsxXSxcclxuICAgICAgbmV4dCA9IGFycm93cy5jaGlsZHJlblsyXSxcclxuICAgICAgc2xpZGVXaWR0aCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aCxcclxuICAgICAgc2xpZGVJbmRleCA9IDAsXHJcbiAgICAgIHBvc0luaXQgPSAwLFxyXG4gICAgICBwb3NYMSA9IDAsXHJcbiAgICAgIHBvc1gyID0gMCxcclxuICAgICAgcG9zWTEgPSAwLFxyXG4gICAgICBwb3NZMiA9IDAsXHJcbiAgICAgIHBvc0ZpbmFsID0gMCxcclxuICAgICAgaXNTd2lwZSA9IGZhbHNlLFxyXG4gICAgICBpc1Njcm9sbCA9IGZhbHNlLFxyXG4gICAgICBhbGxvd1N3aXBlID0gdHJ1ZSxcclxuICAgICAgdHJhbnNpdGlvbiA9IHRydWUsXHJcbiAgICAgIG5leHRUcmYgPSAwLFxyXG4gICAgICBwcmV2VHJmID0gMCxcclxuICAgICAgbGFzdFRyZiA9IChzbGlkZXMubGVuZ3RoIC0gMSkgKiBzbGlkZVdpZHRoLFxyXG4gICAgICBwb3NUaHJlc2hvbGQgPSBzbGlkZXNbMF0ub2Zmc2V0V2lkdGggKiAwLjM1LFxyXG4gICAgICB0cmZSZWdFeHAgPSAvKFstMC05Ll0rKD89cHgpKS8sXHJcbiAgICAgIGdldEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBldmVudC50eXBlLnNlYXJjaChcInRvdWNoXCIpICE9PSAtMSA/IGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudDtcclxuICAgICAgfSxcclxuICAgICAgc2xpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcclxuICAgICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSAuNXNcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKC0ke1xyXG4gICAgICAgICAgc2xpZGVJbmRleCAqIHNsaWRlV2lkdGhcclxuICAgICAgICB9cHgsIDBweCwgMHB4KWA7XHJcblxyXG4gICAgICAgIHByZXYuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGVkXCIsIHNsaWRlSW5kZXggPT09IDApO1xyXG5cdFx0XHRcdG5leHQuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGVkXCIsIHNsaWRlSW5kZXggPT09IChzbGlkZXMubGVuZ3RoIC0gMSkpO1xyXG5cdFx0XHRcdHN3aXRjaERvdHMoc2xpZGVJbmRleClcclxuXHRcdFx0XHRcclxuICAgICAgfSxcclxuICAgICAgc3dpcGVTdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgZXZ0ID0gZ2V0RXZlbnQoKTtcclxuXHJcbiAgICAgICAgaWYgKGFsbG93U3dpcGUpIHtcclxuICAgICAgICAgIHRyYW5zaXRpb24gPSB0cnVlO1xyXG5cclxuICAgICAgICAgIG5leHRUcmYgPSAoc2xpZGVJbmRleCArIDEpICogLXNsaWRlV2lkdGg7XHJcbiAgICAgICAgICBwcmV2VHJmID0gKHNsaWRlSW5kZXggLSAxKSAqIC1zbGlkZVdpZHRoO1xyXG5cclxuICAgICAgICAgIHBvc0luaXQgPSBwb3NYMSA9IGV2dC5jbGllbnRYO1xyXG4gICAgICAgICAgcG9zWTEgPSBldnQuY2xpZW50WTtcclxuXHJcbiAgICAgICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2l0aW9uID0gXCJcIjtcclxuXHJcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHN3aXBlQWN0aW9uKTtcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgc3dpcGVBY3Rpb24pO1xyXG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHN3aXBlRW5kKTtcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHN3aXBlRW5kKTtcclxuXHJcbiAgICAgICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJncmFiXCIpO1xyXG4gICAgICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKFwiZ3JhYmJpbmdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBzd2lwZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgZXZ0ID0gZ2V0RXZlbnQoKSxcclxuICAgICAgICAgIHN0eWxlID0gc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtLFxyXG4gICAgICAgICAgdHJhbnNmb3JtID0gK3N0eWxlLm1hdGNoKHRyZlJlZ0V4cClbMF07XHJcblxyXG4gICAgICAgIHBvc1gyID0gcG9zWDEgLSBldnQuY2xpZW50WDtcclxuICAgICAgICBwb3NYMSA9IGV2dC5jbGllbnRYO1xyXG5cclxuICAgICAgICBwb3NZMiA9IHBvc1kxIC0gZXZ0LmNsaWVudFk7XHJcbiAgICAgICAgcG9zWTEgPSBldnQuY2xpZW50WTtcclxuXHJcbiAgICAgICAgLy8g0L7Qv9GA0LXQtNC10LvQtdC90LjQtSDQtNC10LnRgdGC0LLQuNGPINGB0LLQsNC50L8g0LjQu9C4INGB0LrRgNC+0LvQu1xyXG4gICAgICAgIGlmICghaXNTd2lwZSAmJiAhaXNTY3JvbGwpIHtcclxuICAgICAgICAgIGxldCBwb3NZID0gTWF0aC5hYnMocG9zWTIpO1xyXG4gICAgICAgICAgaWYgKHBvc1kgPiA3IHx8IHBvc1gyID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlzU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwb3NZIDwgNykge1xyXG4gICAgICAgICAgICBpc1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1N3aXBlKSB7XHJcbiAgICAgICAgICAvLyDQt9Cw0L/RgNC10YIg0YPRhdC+0LTQsCDQstC70LXQstC+INC90LAg0L/QtdGA0LLQvtC8INGB0LvQsNC50LTQtVxyXG4gICAgICAgICAgaWYgKHNsaWRlSW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xyXG4gICAgICAgICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIDApO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuXHRcdFx0XHRcdFxyXG4gICAgICAgICAgLy8g0LfQsNC/0YDQtdGCINGD0YXQvtC00LAg0LLQv9GA0LDQstC+INC90LAg0L/QvtGB0LvQtdC00L3QtdC8INGB0LvQsNC50LTQtVxyXG4gICAgICAgICAgaWYgKHNsaWRlSW5kZXggPT09IChzbGlkZXMubGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICAgICAgaWYgKHBvc0luaXQgPiBwb3NYMSkge1xyXG4gICAgICAgICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIGxhc3RUcmYpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vINC30LDQv9GA0LXRgiDQv9GA0L7RgtCw0YHQutC40LLQsNC90LjRjyDQtNCw0LvRjNGI0LUg0L7QtNC90L7Qs9C+INGB0LvQsNC50LTQsFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAocG9zSW5pdCA+IHBvc1gxICYmIHRyYW5zZm9ybSA8IG5leHRUcmYpIHx8XHJcbiAgICAgICAgICAgIChwb3NJbml0IDwgcG9zWDEgJiYgdHJhbnNmb3JtID4gcHJldlRyZilcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICByZWFjaEVkZ2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vINC00LLQuNCz0LDQtdC8INGB0LvQsNC50LRcclxuICAgICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm0gLSBwb3NYMlxyXG4gICAgICAgICAgfXB4LCAwcHgsIDBweClgO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc3dpcGVFbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcG9zRmluYWwgPSBwb3NJbml0IC0gcG9zWDE7XHJcblxyXG4gICAgICAgIGlzU2Nyb2xsID0gZmFsc2U7XHJcbiAgICAgICAgaXNTd2lwZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHN3aXBlQWN0aW9uKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHN3aXBlQWN0aW9uKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgc3dpcGVFbmQpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHN3aXBlRW5kKTtcclxuXHJcbiAgICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKFwiZ3JhYlwiKTtcclxuICAgICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJncmFiYmluZ1wiKTtcclxuXHJcbiAgICAgICAgaWYgKGFsbG93U3dpcGUpIHtcclxuICAgICAgICAgIGlmIChNYXRoLmFicyhwb3NGaW5hbCkgPiBwb3NUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xyXG4gICAgICAgICAgICAgIHNsaWRlSW5kZXgtLTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NJbml0ID4gcG9zWDEpIHtcclxuICAgICAgICAgICAgICBzbGlkZUluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocG9zSW5pdCAhPT0gcG9zWDEpIHtcclxuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzbGlkZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFsbG93U3dpcGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgY29tYXByZVRyYW5zZm9ybSkge1xyXG4gICAgICAgIGlmICh0cmFuc2Zvcm0gPj0gY29tYXByZVRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgaWYgKHRyYW5zZm9ybSA+IGNvbWFwcmVUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7Y29tYXByZVRyYW5zZm9ybX1weCwgMHB4LCAwcHgpYDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYWxsb3dTd2lwZSA9IGZhbHNlO1xyXG4gICAgICB9LFxyXG4gICAgICByZWFjaEVkZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIHN3aXBlRW5kKCk7XHJcbiAgICAgICAgYWxsb3dTd2lwZSA9IHRydWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZCgwcHgsIDBweCwgMHB4KVwiO1xyXG4gICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKFwiZ3JhYlwiKTtcclxuXHJcbiAgICBzbGlkZXJUcmFjay5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgIGFsbG93U3dpcGUgPSB0cnVlO1xyXG5cdFx0XHRpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XHJcblx0XHRcdFxyXG4gICAgfSk7XHJcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgc3dpcGVTdGFydCk7XHJcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBzd2lwZVN0YXJ0KTtcclxuXHJcbiAgICBhcnJvd3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dFwiKSkge1xyXG4gICAgICAgIHNsaWRlSW5kZXgrKztcclxuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJldlwiKSkge1xyXG4gICAgICAgIHNsaWRlSW5kZXgtLTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcblx0XHRcdHNsaWRlKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XHJcblx0XHRcdFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLmpzX19zbGlkZXItcGFnaW5hdGlvblwiKSkge1xyXG5cdFx0XHRcclxuXHRcdFx0c2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuanNfX3NsaWRlci1wYWdpbmF0aW9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdGxldCBkb3R0cyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzX2RvdFwiKVxyXG5cdFx0XHRcdGRvdHRzLmZvckVhY2goZG90ID0+IHtcclxuXHRcdFx0XHRcdGRvdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHNsaWRlSW5kZXggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlLWluZGV4XCIpXHJcblx0XHRcdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxyXG5cdFx0XHRcdHNsaWRlKCk7XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3dpdGNoRG90cyhpbmRleCkge1xyXG5cdFx0XHRsZXQgZG90dHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbChcIi5qc19kb3RcIilcclxuXHRcdFx0ZG90dHMuZm9yRWFjaChkb3QgPT4ge1xyXG5cdFx0XHRcdGRvdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0XHRcdGlmIChkb3QuZGF0YXNldC5zbGlkZUluZGV4ID09IGluZGV4KSB7XHJcblx0XHRcdFx0XHRkb3QuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcbiAgICAvLyBpbmRleFNsaWRlVGV4dC5pbm5lckhUTUwgPSBgJHtzbGlkZUluZGV4ICsgMX0vJHtzbGlkZXMubGVuZ3RofWA7XHJcbiAgfVxyXG5cdGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzX19zbGlkZXJcIikpIHtcclxuXHRcdHNsaWRlcl9ydW4oXHJcblx0XHRcdFwiLmpzX19zbGlkZXJcIixcclxuXHRcdFx0XCIuanNfX3NsaWRlci1saXN0XCIsXHJcblx0XHRcdFwiLmpzX19zbGlkZXItdHJhY2tcIixcclxuXHRcdFx0XCIuanNfX3NsaWRlXCIsXHJcblx0XHRcdFwiLmpzX19zbGlkZXItYXJyb3dzXCIsXHJcblx0XHRcdFwiLmpzX2RvdFwiXHJcblx0XHQpO1xyXG5cdFx0bGV0IHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanNfX3NsaWRlXCIpXHJcblx0XHRsZXQgcGFnaW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanNfX3NsaWRlci1wYWdpbmF0aW9uXCIpXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcclxuXHRcdFx0bGV0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcclxuXHRcdFx0ZG90LmNsYXNzTGlzdC5hZGQoXCJoZXJvX19zbGlkZXItcGFnaW5hdGlvbi1pdGVtXCIpXHJcblx0XHRcdGRvdC5jbGFzc0xpc3QuYWRkKFwianNfZG90XCIpXHJcblx0XHRcdGRvdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlLWluZGV4XCIsIGkpXHJcblx0XHRcdHBhZ2luYXRpb24uYXBwZW5kKGRvdClcclxuXHRcdH1cclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanNfZG90XCIpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanNfZG90XCIpLmNsYXNzTGlzdFxyXG5cdH1cclxuXHJcblxyXG5cdGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzX19wYXJ0bmVycy1zbGlkZXJcIikpIHtcclxuXHJcblx0XHRzbGlkZXJfcnVuKFxyXG5cdFx0XHRcIi5qc19fcGFydG5lcnMtc2xpZGVyXCIsXHJcblx0XHRcdFwiLmpzX19wYXJ0bmVycy1zbGlkZXItbGlzdFwiLFxyXG5cdFx0XHRcIi5qc19fcGFydG5lcnMtc2xpZGVyLXRyYWNrXCIsXHJcblx0XHRcdFwiLmpzX19wYXJ0bmVycy1zbGlkZVwiLFxyXG5cdFx0XHRcIi5qc19fcGFydG5lcnMtc2xpZGVyLWFycm93c1wiXHJcblx0XHQpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
