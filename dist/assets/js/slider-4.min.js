"use strict";document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".js__addNewsSlider")&&function(e,t,n,s,r,i,a,d,c){var o=document.querySelector(e),l=o.querySelector(t),u=o.querySelector(n),v=o.querySelectorAll(s),m=o.querySelector(r),f=m.children[0],L=m.children[1],h=m.children[2],g=u.offsetWidth,p=document.querySelector(i),y=0,S=0,x=0,E=0,_=0,b=0,q=0,w=!1,j=!1,N=!0,A=!0,M=0,k=0,X=(v.length-1)*g,Y=.35*v[0].offsetWidth,C=/([-0-9.]+(?=px))/,W=function(){return-1!==event.type.search("touch")?event.touches[0]:event},D=function(){A&&(u.style.transition="transform .5s"),u.style.transform="translate3d(-".concat(y*g,"px, 0px, 0px)"),f.classList.toggle("disabled",0==y),h.classList.toggle("disabled",y==v.length-1),B(y)},H=function(){var e=W();N&&(A=!0,M=(y+1)*-g,k=(y-1)*-g,S=x=e.clientX,_=e.clientY,u.style.transition="",document.addEventListener("touchmove",I),document.addEventListener("mousemove",I),document.addEventListener("touchend",O),document.addEventListener("mouseup",O),l.classList.remove("grab"),l.classList.add("grabbing")),B(y)},I=function(){var e=W(),t=+u.style.transform.match(C)[0];if(E=x-e.clientX,x=e.clientX,b=_-e.clientY,_=e.clientY,!w&&!j){var n=Math.abs(b);n>7||0==E?(j=!0,N=!1):n<7&&(w=!0)}if(w){if(0==y){if(S<x)return void T(t,0);N=!0}if(y===v.length-1){if(S>x)return void T(t,X);N=!0}if(S>x&&t<M||S<x&&t>k)return void z();u.style.transform="translate3d(".concat(t-E,"px, 0px, 0px)")}B(y)},O=function e(){q=S-x,j=!1,w=!1,document.removeEventListener("touchmove",I),document.removeEventListener("mousemove",I),document.removeEventListener("touchend",e),document.removeEventListener("mouseup",e),l.classList.add("grab"),l.classList.remove("grabbing"),N?(Math.abs(q)>Y&&(S<x?y--:S>x&&y++),S!==x?(N=!1,D()):N=!0):N=!0,B(y)},T=function(e,t){e>=t&&e>t&&(u.style.transform="translate3d(".concat(t,"px, 0px, 0px)")),N=!1,B(y)},z=function(){A=!1,O(),N=!0,B(y)};function B(e){o.querySelectorAll("."+a).forEach((function(t){t.classList.remove("active"),t.dataset.slideIndex==e&&t.classList.add("active")}))}u.style.transform="translate3d(0px, 0px, 0px)",l.classList.add("grab"),u.addEventListener("transitionend",(function(){N=!0,L.innerHTML="".concat(y+1,"/").concat(v.length)})),o.addEventListener("touchstart",(function(e){return H()})),o.addEventListener("mousedown",(function(e){return H()})),m.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("next"))y++;else{if(!t.classList.contains("prev"))return;y--}D(),B(y)})),o.querySelector(i)&&o.querySelector(i).addEventListener("click",(function(e){o.querySelectorAll("."+a).forEach((function(e){e.classList.remove("active")})),y=e.target.getAttribute("data-slide-index"),e.target.classList.add("active"),D()}));for(var F=0;F<v.length;F++){var G=document.createElement("button");G.classList.add(d),G.classList.add(a),G.setAttribute("data-slide-index",F),p.appendChild(G)}document.querySelectorAll("."+a)[0].classList.add("active")}(".js__addNewsSlider",".js__addNewsSlider-list",".js__addNewsSlider-track",".js__addNewsSlide",".js__addNewsSlider-arrows",".js__addNewsSlider-pagination","js_addNews-dot","additional-news__slider-pagination-item")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci00LmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJqc3NsaWRlciIsImpzc2xpZGVyTGlzdCIsImpzc2xpZGVyVHJhY2siLCJqc3NsaWRlcyIsImpzYXJyb3dzIiwianNwYWdpbmF0aW9uIiwiZG90c25hbWUiLCJkb3RzQ2xhc3MiLCJxdHkiLCJzbGlkZXIiLCJzbGlkZXJMaXN0Iiwic2xpZGVyVHJhY2siLCJzbGlkZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXJyb3dzIiwicHJldiIsImNoaWxkcmVuIiwiaW5kZXhTbGlkZVRleHQiLCJuZXh0Iiwic2xpZGVXaWR0aCIsIm9mZnNldFdpZHRoIiwicGFnaW5hdGlvbiIsInNsaWRlSW5kZXgiLCJwb3NJbml0IiwicG9zWDEiLCJwb3NYMiIsInBvc1kxIiwicG9zWTIiLCJwb3NGaW5hbCIsImlzU3dpcGUiLCJpc1Njcm9sbCIsImFsbG93U3dpcGUiLCJ0cmFuc2l0aW9uIiwibmV4dFRyZiIsInByZXZUcmYiLCJsYXN0VHJmIiwibGVuZ3RoIiwicG9zVGhyZXNob2xkIiwidHJmUmVnRXhwIiwiZ2V0RXZlbnQiLCJldmVudCIsInR5cGUiLCJzZWFyY2giLCJ0b3VjaGVzIiwic2xpZGUiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNvbmNhdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInN3aXRjaERvdHMiLCJzd2lwZVN0YXJ0IiwiZXZ0IiwiY2xpZW50WCIsImNsaWVudFkiLCJzd2lwZUFjdGlvbiIsInN3aXBlRW5kIiwicmVtb3ZlIiwiYWRkIiwibWF0Y2giLCJwb3NZIiwiTWF0aCIsImFicyIsInNldFRyYW5zZm9ybSIsInJlYWNoRWRnZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb21hcHJlVHJhbnNmb3JtIiwiaW5kZXgiLCJmb3JFYWNoIiwiZG90IiwiZGF0YXNldCIsImlubmVySFRNTCIsInRhcmdldCIsImNvbnRhaW5zIiwiZSIsImdldEF0dHJpYnV0ZSIsImkiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJzbGlkZXJSdW4iXSwibWFwcGluZ3MiOiJBQUFBLGFBQUFBLFNBQVNDLGlCQUFULG9CQUE4QyxXQWlSeENELFNBQVNFLGNBQVQsdUJBaFJKLFNBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBQ0UsSUFBTUMsRUFBU1osU0FBU0UsY0FBY0MsR0FDaENVLEVBQWFELEVBQU9WLGNBQWNFLEdBQ2xDVSxFQUFjRixFQUFPVixjQUFjRyxHQUNuQ1UsRUFBU0gsRUFBT0ksaUJBQWlCVixHQUNqQ1csRUFBU0wsRUFBT1YsY0FBY0ssR0FDOUJXLEVBQU9ELEVBQU9FLFNBQVMsR0FDdkJDLEVBQWlCSCxFQUFPRSxTQUFTLEdBQ2pDRSxFQUFPSixFQUFPRSxTQUFTLEdBQ3ZCRyxFQUFhUixFQUFZUyxZQUN6QkMsRUFBYXhCLFNBQVNFLGNBQWNNLEdBQ3RDaUIsRUFBYSxFQUNiQyxFQUFVLEVBQ1ZDLEVBQVEsRUFDUkMsRUFBUSxFQUNSQyxFQUFRLEVBQ1JDLEVBQVEsRUFDUkMsRUFBVyxFQUNYQyxHQUFVLEVBQ1ZDLEdBQVcsRUFDWEMsR0FBYSxFQUNiQyxHQUFhLEVBQ2JDLEVBQVUsRUFDVkMsRUFBVSxFQUNSQyxHQUFZdkIsRUFBT3dCLE9BQVMsR0FBS2pCLEVBQ2pDa0IsRUFBdUMsSUFBeEJ6QixFQUFPLEdBQUdRLFlBQ3pCa0IsRUFBWSxtQkFDWkMsRUFBVyxXQUNmLE9BQXVDLElBQWhDQyxNQUFNQyxLQUFLQyxPQUFYLFNBQW9DRixNQUFNRyxRQUFRLEdBQUtILE9BRTFESSxFQUFRLFdBQ1JaLElBQ0ZyQixFQUFZa0MsTUFBTWIsV0FBbEIsaUJBRUZyQixFQUFZa0MsTUFBTUMsVUFBbEIsZ0JBQUFDLE9BQ0V6QixFQUFhSCxFQURmLGlCQUlBSixFQUFLaUMsVUFBVUMsT0FBZixXQUFnRCxHQUFkM0IsR0FDbENKLEVBQUs4QixVQUFVQyxPQUFmLFdB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T0FBOEJ6QixFQUFhLEVBQTNDLEtBQUF5QixPQUFnRG5DLEVBQU93QixXQUd6RDNCLEVBQU9YLGlCQUFQLGNBQXNDLFNBQUMwQyxHQUFELE9BQVdXLE9BQ2pEMUMsRUFBT1gsaUJBQVAsYUFBcUMsU0FBQzBDLEdBQUQsT0FBV1csT0FFaERyQyxFQUFPaEIsaUJBQVAsU0FBaUMsU0FBVTBDLEdBQ3pDLElBQU1nQyxFQUFTaEMsRUFBTWdDLE9BR3JCLEdBQUlBLEVBQU94QixVQUFVeUIsU0FBakIsUUFDRm5ELFFBQ0ssQ0FBQSxJQUFJa0QsRUFBT3hCLFVBQVV5QixTQUFqQixRQUdULE9BRkFuRCxJQUtGc0IsSUFDQU0sRUFBVzVCLE1BTVRiLEVBQU9WLGNBQWNNLElBRXZCSSxFQUFPVixjQUFjTSxHQUFjUCxpQkFBbkMsU0FBNkQsU0FBVTRFLEdBQ3ZEakUsRUFBT0ksaUJBQWlCLElBQU1QLEdBQ3RDOEQsU0FBUSxTQUFDQyxHQUNiQSxFQUFJckIsVUFBVVMsT0FBZCxhQUVGbkMsRUFBYW9ELEVBQUVGLE9BQU9HLGFBQVQsb0JBQ2JELEVBQUVGLE9BQU94QixVQUFVVSxJQUFuQixVQUNBZCxPQWNKLElBQUssSUFBSWdDLEVBQUksRUFBR0EsRUFBSWhFLEVBQU93QixPQUFRd0MsSUFBSyxDQUV0QyxJQUFNUCxFQUFNeEUsU0FBU2dGLGNBQVQsVUFDWlIsRUFBSXJCLFVBQVVVLElBQUluRCxHQUNsQjhELEVBQUlyQixVQUFVVSxJQUFJcEQsR0FDbEIrRCxFQUFJUyxhQUFKLG1CQUFxQ0YsR0FDckN2RCxFQUFXMEQsWUFBWVYsR0FFekJ4RSxTQUFTZ0IsaUJBQWlCLElBQUlQLEdBQVUsR0FBRzBDLFVBQVVVLElBQXJELFVBc0JBc0IsQ0FBUyxxQkFBQSwwQkFBQSwyQkFBQSxvQkFBQSw0QkFBQSxnQ0FBQSxpQkFBQSIsImZpbGUiOiJzbGlkZXItNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYERPTUNvbnRlbnRMb2FkZWRgLCBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHNsaWRlclJ1bihcblx0XHRqc3NsaWRlciwgXG5cdFx0anNzbGlkZXJMaXN0LCBcblx0XHRqc3NsaWRlclRyYWNrLCBcblx0XHRqc3NsaWRlcywgXG5cdFx0anNhcnJvd3MsXG5cdFx0anNwYWdpbmF0aW9uLFxuXHRcdGRvdHNuYW1lLFxuXHRcdGRvdHNDbGFzcyxcblx0XHRxdHkpIHtcbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpzc2xpZGVyKVxuICAgIGNvbnN0IHNsaWRlckxpc3QgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc3NsaWRlckxpc3QpXG4gICAgY29uc3Qgc2xpZGVyVHJhY2sgPSBzbGlkZXIucXVlcnlTZWxlY3Rvcihqc3NsaWRlclRyYWNrKVxuICAgIGNvbnN0IHNsaWRlcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKGpzc2xpZGVzKVxuICAgIGNvbnN0IGFycm93cyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKGpzYXJyb3dzKVxuICAgIGNvbnN0IHByZXYgPSBhcnJvd3MuY2hpbGRyZW5bMF1cbiAgICBjb25zdCBpbmRleFNsaWRlVGV4dCA9IGFycm93cy5jaGlsZHJlblsxXVxuICAgIGNvbnN0IG5leHQgPSBhcnJvd3MuY2hpbGRyZW5bMl1cbiAgICBjb25zdCBzbGlkZVdpZHRoID0gc2xpZGVyVHJhY2sub2Zmc2V0V2lkdGhcbiAgICBjb25zdCBwYWdpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqc3BhZ2luYXRpb24pXG4gICAgbGV0IHNsaWRlSW5kZXggPSAwXG4gICAgbGV0IHBvc0luaXQgPSAwXG4gICAgbGV0IHBvc1gxID0gMFxuICAgIGxldCBwb3NYMiA9IDBcbiAgICBsZXQgcG9zWTEgPSAwXG4gICAgbGV0IHBvc1kyID0gMFxuICAgIGxldCBwb3NGaW5hbCA9IDBcbiAgICBsZXQgaXNTd2lwZSA9IGZhbHNlXG4gICAgbGV0IGlzU2Nyb2xsID0gZmFsc2VcbiAgICBsZXQgYWxsb3dTd2lwZSA9IHRydWVcbiAgICBsZXQgdHJhbnNpdGlvbiA9IHRydWVcbiAgICBsZXQgbmV4dFRyZiA9IDBcbiAgICBsZXQgcHJldlRyZiA9IDBcbiAgICBjb25zdCBsYXN0VHJmID0gKChzbGlkZXMubGVuZ3RoIC0gMSkgKiBzbGlkZVdpZHRoKVxuICAgIGNvbnN0IHBvc1RocmVzaG9sZCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aCAqIDAuMzVcbiAgICBjb25zdCB0cmZSZWdFeHAgPSAvKFstMC05Ll0rKD89cHgpKS9cbiAgICBjb25zdCBnZXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBldmVudC50eXBlLnNlYXJjaChgdG91Y2hgKSAhPT0gLTEgPyBldmVudC50b3VjaGVzWzBdIDogZXZlbnRcbiAgICB9XG4gICAgY29uc3Qgc2xpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2l0aW9uID0gYHRyYW5zZm9ybSAuNXNgXG4gICAgICB9XG4gICAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoLSR7XG4gICAgICAgIHNsaWRlSW5kZXggKiBzbGlkZVdpZHRoXG4gICAgICB9cHgsIDBweCwgMHB4KWBcblxuICAgICAgcHJldi5jbGFzc0xpc3QudG9nZ2xlKGBkaXNhYmxlZGAsIHNsaWRlSW5kZXggPT0gMClcbiAgICAgIG5leHQuY2xhc3NMaXN0LnRvZ2dsZShgZGlzYWJsZWRgLCBzbGlkZUluZGV4ID09IChzbGlkZXMubGVuZ3RoIC0gMSkpXG4gICAgICBzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG5cbiAgICB9XG4gICAgY29uc3Qgc3dpcGVTdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGV2dCA9IGdldEV2ZW50KClcblxuICAgICAgaWYgKGFsbG93U3dpcGUpIHtcbiAgICAgICAgdHJhbnNpdGlvbiA9IHRydWVcblxuICAgICAgICBuZXh0VHJmID0gKHNsaWRlSW5kZXggKyAxKSAqIC1zbGlkZVdpZHRoXG4gICAgICAgIHByZXZUcmYgPSAoc2xpZGVJbmRleCAtIDEpICogLXNsaWRlV2lkdGhcblxuICAgICAgICBwb3NJbml0ID0gcG9zWDEgPSBldnQuY2xpZW50WFxuICAgICAgICBwb3NZMSA9IGV2dC5jbGllbnRZXG5cbiAgICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNpdGlvbiA9IGBgXG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgdG91Y2htb3ZlYCwgc3dpcGVBY3Rpb24pXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYG1vdXNlbW92ZWAsIHN3aXBlQWN0aW9uKVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGB0b3VjaGVuZGAsIHN3aXBlRW5kKVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgc3dpcGVFbmQpXG5cbiAgICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKGBncmFiYClcbiAgICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKGBncmFiYmluZ2ApXG4gICAgICB9XG4gICAgICBzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG5cbiAgICB9XG4gICAgY29uc3Qgc3dpcGVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBldnQgPSBnZXRFdmVudCgpXG4gICAgICBjb25zdCBzdHlsZSA9IHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybVxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gK3N0eWxlLm1hdGNoKHRyZlJlZ0V4cClbMF1cblxuICAgICAgcG9zWDIgPSBwb3NYMSAtIGV2dC5jbGllbnRYXG4gICAgICBwb3NYMSA9IGV2dC5jbGllbnRYXG5cbiAgICAgIHBvc1kyID0gcG9zWTEgLSBldnQuY2xpZW50WVxuICAgICAgcG9zWTEgPSBldnQuY2xpZW50WVxuXG4gICAgICAvLyDQvtC/0YDQtdC00LXQu9C10L3QuNC1INC00LXQudGB0YLQstC40Y8g0YHQstCw0LnQvyDQuNC70Lgg0YHQutGA0L7Qu9C7XG4gICAgICBpZiAoIWlzU3dpcGUgJiYgIWlzU2Nyb2xsKSB7XG4gICAgICAgIGNvbnN0IHBvc1kgPSBNYXRoLmFicyhwb3NZMilcbiAgICAgICAgaWYgKHBvc1kgPiA3IHx8IHBvc1gyID09IDApIHtcbiAgICAgICAgICBpc1Njcm9sbCA9IHRydWVcbiAgICAgICAgICBhbGxvd1N3aXBlID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIGlmIChwb3NZIDwgNykge1xuICAgICAgICAgIGlzU3dpcGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3dpcGUpIHtcbiAgICAgICAgLy8g0LfQsNC/0YDQtdGCINGD0YXQvtC00LAg0LLQu9C10LLQviDQvdCwINC/0LXRgNCy0L7QvCDRgdC70LDQudC00LVcbiAgICAgICAgaWYgKHNsaWRlSW5kZXggPT0gMCkge1xuICAgICAgICAgIGlmIChwb3NJbml0IDwgcG9zWDEpIHtcbiAgICAgICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIDApXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vINC30LDQv9GA0LXRgiDRg9GF0L7QtNCwINCy0L/RgNCw0LLQviDQvdCwINC/0L7RgdC70LXQtNC90LXQvCDRgdC70LDQudC00LVcbiAgICAgICAgaWYgKHNsaWRlSW5kZXggPT09IChzbGlkZXMubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm0odHJhbnNmb3JtLCBsYXN0VHJmKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsbG93U3dpcGUgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g0LfQsNC/0YDQtdGCINC/0YDQvtGC0LDRgdC60LjQstCw0L3QuNGPINC00LDQu9GM0YjQtSDQvtC00L3QvtCz0L4g0YHQu9Cw0LnQtNCwXG4gICAgICAgIGlmIChcbiAgICAgICAgICAocG9zSW5pdCA+IHBvc1gxICYmIHRyYW5zZm9ybSA8IG5leHRUcmYpIHx8XG4gICAgICAgICAgICAocG9zSW5pdCA8IHBvc1gxICYmIHRyYW5zZm9ybSA+IHByZXZUcmYpXG4gICAgICAgICkge1xuICAgICAgICAgIHJlYWNoRWRnZSgpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyDQtNCy0LjQs9Cw0LXQvCDRgdC70LDQudC0XG4gICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke1xuICAgICAgICAgIHRyYW5zZm9ybSAtIHBvc1gyXG4gICAgICAgIH1weCwgMHB4LCAwcHgpYFxuICAgICAgfVxuICAgICAgc3dpdGNoRG90cyhzbGlkZUluZGV4KVxuXG4gICAgfVxuICAgIGNvbnN0IHN3aXBlRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgcG9zRmluYWwgPSBwb3NJbml0IC0gcG9zWDFcblxuICAgICAgaXNTY3JvbGwgPSBmYWxzZVxuICAgICAgaXNTd2lwZSA9IGZhbHNlXG5cbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYHRvdWNobW92ZWAsIHN3aXBlQWN0aW9uKVxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgbW91c2Vtb3ZlYCwgc3dpcGVBY3Rpb24pXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGB0b3VjaGVuZGAsIHN3aXBlRW5kKVxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgbW91c2V1cGAsIHN3aXBlRW5kKVxuXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5hZGQoYGdyYWJgKVxuICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKGBncmFiYmluZ2ApXG5cbiAgICAgIGlmIChhbGxvd1N3aXBlKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhwb3NGaW5hbCkgPiBwb3NUaHJlc2hvbGQpIHtcbiAgICAgICAgICBpZiAocG9zSW5pdCA8IHBvc1gxKSB7XG4gICAgICAgICAgICBzbGlkZUluZGV4LS1cbiAgICAgICAgICB9IGVsc2UgaWYgKHBvc0luaXQgPiBwb3NYMSkge1xuICAgICAgICAgICAgc2xpZGVJbmRleCsrXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc0luaXQgIT09IHBvc1gxKSB7XG4gICAgICAgICAgYWxsb3dTd2lwZSA9IGZhbHNlXG4gICAgICAgICAgc2xpZGUoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbG93U3dpcGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsbG93U3dpcGUgPSB0cnVlXG4gICAgICB9XG4gICAgICBzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG4gICAgfVxuICAgIGNvbnN0IHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIGNvbWFwcmVUcmFuc2Zvcm0pIHtcbiAgICAgIGlmICh0cmFuc2Zvcm0gPj0gY29tYXByZVRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodHJhbnNmb3JtID4gY29tYXByZVRyYW5zZm9ybSkge1xuICAgICAgICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke2NvbWFwcmVUcmFuc2Zvcm19cHgsIDBweCwgMHB4KWBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWxsb3dTd2lwZSA9IGZhbHNlXG4gICAgICBzd2l0Y2hEb3RzKHNsaWRlSW5kZXgpXG5cbiAgICB9XG4gICAgY29uc3QgcmVhY2hFZGdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJhbnNpdGlvbiA9IGZhbHNlXG4gICAgICBzd2lwZUVuZCgpXG4gICAgICBhbGxvd1N3aXBlID0gdHJ1ZVxuICAgICAgc3dpdGNoRG90cyhzbGlkZUluZGV4KVxuXG4gICAgfVxuXG4gICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpYFxuICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZChgZ3JhYmApXG5cbiAgICBzbGlkZXJUcmFjay5hZGRFdmVudExpc3RlbmVyKGB0cmFuc2l0aW9uZW5kYCwgKCkgPT4ge1xuICAgICAgYWxsb3dTd2lwZSA9IHRydWVcbiAgICAgIGluZGV4U2xpZGVUZXh0LmlubmVySFRNTCA9IGAke3NsaWRlSW5kZXggKyAxfS8ke3NsaWRlcy5sZW5ndGh9YFxuXG4gICAgfSlcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihgdG91Y2hzdGFydGAsIChldmVudCkgPT4gc3dpcGVTdGFydChldmVudCkpXG4gICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoYG1vdXNlZG93bmAsIChldmVudCkgPT4gc3dpcGVTdGFydChldmVudCkpXG5cbiAgICBhcnJvd3MuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldFxuICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LmNsYXNzTGlzdClcblxuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoYG5leHRgKSkge1xuICAgICAgICBzbGlkZUluZGV4KytcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgcHJldmApKSB7XG4gICAgICAgIHNsaWRlSW5kZXgtLVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHNsaWRlKClcbiAgICAgIHN3aXRjaERvdHMoc2xpZGVJbmRleClcblxuICAgICAgLy8gaW5kZXhTbGlkZVRleHQuaW5uZXJIVE1MID0gYCR7c2xpZGVJbmRleCArIDF9LyR7c2xpZGVzLmxlbmd0aH1gO1xuXG4gICAgfSlcblxuICAgIGlmIChzbGlkZXIucXVlcnlTZWxlY3Rvcihqc3BhZ2luYXRpb24pKSB7XG5cbiAgICAgIHNsaWRlci5xdWVyeVNlbGVjdG9yKGpzcGFnaW5hdGlvbikuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zdCBkb3R0cyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGRvdHNuYW1lKVxuICAgICAgICBkb3R0cy5mb3JFYWNoKChkb3QpID0+IHtcbiAgICAgICAgICBkb3QuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYClcbiAgICAgICAgfSlcbiAgICAgICAgc2xpZGVJbmRleCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShgZGF0YS1zbGlkZS1pbmRleGApXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoYGFjdGl2ZWApXG4gICAgICAgIHNsaWRlKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3dpdGNoRG90cyhpbmRleCkge1xuICAgICAgY29uc3QgZG90dHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnLicgKyBkb3RzbmFtZSlcbiAgICAgIGRvdHRzLmZvckVhY2goKGRvdCkgPT4ge1xuICAgICAgICBkb3QuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYClcbiAgICAgICAgaWYgKGRvdC5kYXRhc2V0LnNsaWRlSW5kZXggPT0gaW5kZXgpIHtcbiAgICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZChgYWN0aXZlYClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cdFx0Ly8gaW5kZXhTbGlkZVRleHQuaW5uZXJIVE1MID0gYCR7c2xpZGVJbmRleCArIDF9LyR7c2xpZGVzLmxlbmd0aH1gO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgIGNvbnN0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGJ1dHRvbmApXG4gICAgICBkb3QuY2xhc3NMaXN0LmFkZChkb3RzQ2xhc3MpXG4gICAgICBkb3QuY2xhc3NMaXN0LmFkZChkb3RzbmFtZSlcbiAgICAgIGRvdC5zZXRBdHRyaWJ1dGUoYGRhdGEtc2xpZGUtaW5kZXhgLCBpKVxuICAgICAgcGFnaW5hdGlvbi5hcHBlbmRDaGlsZChkb3QpXG4gICAgfVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nK2RvdHNuYW1lKVswXS5jbGFzc0xpc3QuYWRkKGBhY3RpdmVgKVxuXHR9XG5cdFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gPT09PT09PT09PT09PT09PT09PT3QktGL0LfQvtCyINGB0LvQsNC50LTQtdGA0L7Qsj09PT09PT09PT09PT09PT09XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAh0YHQu9Cw0LnQtNC10YAg0L3QsCDQs9C70LDQstC90L7QuSBoZXJvXG4vLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzX19wYXJ0bmVycy1zbGlkZXJgKSkge1xuLy8gXHRzbGlkZXJSdW4oXG4vLyBcdFx0YC5qc19fcGFydG5lcnMtc2xpZGVyYCxcbi8vIFx0XHRgLmpzX19wYXJ0bmVycy1zbGlkZXItbGlzdGAsXG4vLyBcdFx0YC5qc19fcGFydG5lcnMtc2xpZGVyLXRyYWNrYCxcbi8vIFx0XHRgLmpzX19wYXJ0bmVycy1zbGlkZWAsXG4vLyBcdFx0YC5qc19fcGFydG5lcnMtc2xpZGVyLWFycm93c2AsXG4vLyBcdFx0YC5qc19fcGFydG5lcnMtc2xpZGVyLXBhZ2luYXRpb25gLFxuLy8gXHRcdGBqc19wYXJ0bmVycy1kb3RgLFxuLy8gXHRcdGBqc19fcGFydG5lcnMtc2xpZGVyLXBhZ2luYXRpb24taXRlbWBcbi8vICAgICApXG4vLyBcdH1cblxuXHQvLyAh0YHQu9Cw0LnQtNC10YAg0L3QvtCy0L7RgdGC0LXQuSDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9GFXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanNfX2FkZE5ld3NTbGlkZXJgKSkge1xuICAgIHNsaWRlclJ1bihcbiAgICAgIGAuanNfX2FkZE5ld3NTbGlkZXJgLFxuICAgICAgYC5qc19fYWRkTmV3c1NsaWRlci1saXN0YCxcbiAgICAgIGAuanNfX2FkZE5ld3NTbGlkZXItdHJhY2tgLFxuICAgICAgYC5qc19fYWRkTmV3c1NsaWRlYCxcbiAgICAgIGAuanNfX2FkZE5ld3NTbGlkZXItYXJyb3dzYCxcblx0XHRcdGAuanNfX2FkZE5ld3NTbGlkZXItcGFnaW5hdGlvbmAsXG5cdFx0XHRganNfYWRkTmV3cy1kb3RgLFxuXHRcdFx0YGFkZGl0aW9uYWwtbmV3c19fc2xpZGVyLXBhZ2luYXRpb24taXRlbWBcbiAgICApXG4gIH1cblx0XG59KTtcbiJdfQ==
